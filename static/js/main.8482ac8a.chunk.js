(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{221:function(t,e,a){t.exports=a(463)},232:function(t,e,a){},276:function(t,e,a){},281:function(t,e,a){},286:function(t,e,a){},287:function(t,e,a){},288:function(t,e,a){},296:function(t,e,a){},297:function(t,e,a){},408:function(t,e,a){},421:function(t,e,a){},422:function(t,e,a){},423:function(t,e,a){},424:function(t,e,a){},425:function(t,e,a){},426:function(t,e,a){},427:function(t,e,a){},428:function(t,e,a){},429:function(t,e,a){},431:function(t,e,a){},436:function(t,e,a){},440:function(t,e,a){},441:function(t,e,a){},442:function(t,e,a){},443:function(t,e,a){},462:function(t,e,a){},463:function(t,e,a){"use strict";a.r(e);var o=a(0),n=a.n(o),r=a(10),s=a(27),i=a(45),c=(a(230),a(218)),l=a(71),u=a(152),p=a(201),d=a(103),m=a(77),h=a(41),f=a(470),g=a(114),E=a(16),_=a(200),b=(a(232),Object(_.a)(function(t){var e=t.history,a=t.lastLocation;return!!a&&n.a.createElement(g.a,{"data-test":"btnBack",className:"btn-back",type:"default",onClick:function(){e.push(a.pathname)}},n.a.createElement(E.a,{type:"left"}),"Go back")})),v=Object(l.withLastLocation)(b),N=a(81),O="".concat("https://api.unsplash.com","/me"),I="https://unsplash.com/oauth/token",S="".concat("/React-Photo-Listing-Demo","/ava-placeholder.jpg"),T="".concat("/React-Photo-Listing-Demo","/error-image.jpg"),P="".concat("/React-Photo-Listing-Demo","/logo.svg"),L="".concat("/React-Photo-Listing-Demo","/ava-empty-login.svg"),y="".concat("/React-Photo-Listing-Demo","/login.svg"),C="".concat("/React-Photo-Listing-Demo","/logout.svg"),x="https://unsplash.com/oauth/authorize?redirect_uri=".concat("https://psywalker.github.io/React-Photo-Listing-Demo/profile","&response_type=code&scope=public+read_user+write_user+read_photos+write_likes+write_photos+write_followers+read_collections+write_collections&client_id=").concat("bba0e5effd29d1c0d0957b57759a6b65f34fe4fece1188a73a4dcee69b53d3a5"),j=function(t){return"".concat("https://api.unsplash.com/","photos/").concat(t.params.id,"?client_id=").concat("bba0e5effd29d1c0d0957b57759a6b65f34fe4fece1188a73a4dcee69b53d3a5")},R=function(t){return"".concat("https://api.unsplash.com/","users/").concat(t.params.id,"?client_id=").concat("bba0e5effd29d1c0d0957b57759a6b65f34fe4fece1188a73a4dcee69b53d3a5")},k=function(t){return"".concat("https://api.unsplash.com/","users/").concat(t,"/statistics")},w=[{title:"My Downloads",seriesName:"Downloads",colors:"rgba(255, 0, 255, .5)"},{title:"My Views",seriesName:"Views",colors:"rgba(255, 165, 0, .5)"},{title:"My Likes",seriesName:"Likes",colors:"rgba(0, 255, 0, .5)"}],A={legend:{layout:"vertical",align:"right",verticalAlign:"middle"},responsive:{rules:[{condition:{maxWidth:700},chartOptions:{legend:{layout:"horizontal",align:"center",verticalAlign:"bottom"}}}]}},D=function(){return{type:"LOGOUT"}},U=(a(276),f.a.Header),H=Object(_.a)(Object(o.memo)(function(t){var e=t.history,a=t.profileName,o=t.profilePhotoUrl,r=t.logoutAction,s=function(){r(),window.localStorage.clear(),e.push("/")};return n.a.createElement("div",{"data-test":"headerApp",className:"header-app"},n.a.createElement(U,{"data-test":"userLayoutHeader",className:"user-layout__header user-layout-header"},n.a.createElement("div",{"data-test":"page",className:"page"},n.a.createElement(m.a,{type:"flex",justify:"space-between"},n.a.createElement(h.a,{span:2,style:{whiteSpace:"nowrap"}},n.a.createElement(N.a,{"data-test":"siteLogoLinkRouter",to:"/",style:{display:"inline-block"}},n.a.createElement("h1",{"data-test":"siteLogoTitle",className:"site-logo"},n.a.createElement("img",{className:"site-logo__img",src:P,alt:"logo"}))),n.a.createElement(d.a,{"data-test":"btnBackRoute",path:"/:id",component:function(){return n.a.createElement(v,{"data-test":"btnBack",style:{marginLeft:"10px"}})}})),n.a.createElement(h.a,{span:10,style:{display:"flex",justifyContent:"flex-end"}},n.a.createElement("div",{className:"user-layout-header__login"},!a&&n.a.createElement("div",null,n.a.createElement(g.a,{"data-test":"btnLogin",className:"btn-login",href:x},"Login"),n.a.createElement("a",{className:"login-icon-link",href:x},n.a.createElement("img",{"data-test":"login-icon",className:"login-icon",alt:"Login",src:"".concat(y)})),n.a.createElement("img",{"data-test":"userAvatarEmpty",className:"user-avatar-empty",alt:"",src:"".concat(L)})),a&&n.a.createElement("span",null,n.a.createElement(g.a,{"data-test":"btnLogout",className:"btn-logout",onClick:s},"Logout"),n.a.createElement(E.a,{onClick:s,component:function(){return n.a.createElement("img",{"data-test":"logout-icon",className:"logout-icon",alt:"Logout",src:"".concat(C)})}}),n.a.createElement(N.a,{"data-test":"linkProfileName",to:"/profile"},n.a.createElement("img",{"data-test":"userAvatarImg",className:"user-avatar",alt:"",src:"".concat(o)})))))))))}));H.defaultProps={history:{},logoutAction:function(){},profilePhotoUrl:"",profileName:"",profileEmail:"",fetching:!1};var F={logoutAction:D},q=Object(l.withLastLocation)(Object(s.b)(function(t){return t.login},F)(H)),V=a(1),M=a.n(V),G=a(472),B=(a(281),Object(o.memo)(function(t){var e=t.navTopItemActive,a=t.onFilterItemValue,o=t.filters;return n.a.createElement("ul",{className:"nav-top","data-test":"navTop"},o.map(function(t){return n.a.createElement("li",{key:t.id,"data-test":"navTopItem",className:"nav-top__item ".concat(t.border?"nav-top__item_border-right":"")},n.a.createElement(G.a,{"data-test":"navTopItemTag",color:"".concat(t.id===e?"purple":""),onClick:function(){return a(t.filterValue,t.id)}},t.label))}))}));B.propTypes={filters:M.a.arrayOf(M.a.shape({id:M.a.number,label:M.a.string,filterValue:M.a.string})),onFilterItemValue:M.a.func,navTopItemActive:M.a.number},B.defaultProps={filters:[],navTopItemActive:0,onFilterItemValue:function(){}};var Q=B,W=a(30),z=a(31),J=a(33),X=a(32),Y=a(34),K=a(468),Z=a(82),$=a.n(Z),tt=(a(286),K.a.Search),et=function(t){function e(){var t,a;Object(W.a)(this,e);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];(a=Object(J.a)(this,(t=Object(X.a)(e)).call.apply(t,[this].concat(n)))).componentDidUpdate=function(t){var e=a.props.queryText;t.queryText!==e&&a.setState({inputValue:e})},a.onChangeDebounced=$()(function(t){(0,a.props.onChangeInputValue)(t)},500),a.submitSearch=function(){var t=a.state.inputValue,e=a.props.onSearchInputValue;t&&e(t)},a.handleInputChange=function(t){a.setState({inputValue:t.target.value},function(){var t=a.state.inputValue;a.onChangeDebounced(t)})};var s=a.props.queryText;return a.state={inputValue:s},a}return Object(Y.a)(e,t),Object(z.a)(e,[{key:"render",value:function(){var t=this.state.inputValue;return n.a.createElement("div",{"data-test":"searchContainer",className:"search"},n.a.createElement(tt,{"data-test":"searchInput",className:"search__input",value:t,placeholder:"Wallpapers",onChange:this.handleInputChange,onPressEnter:this.submitSearch,onSearch:this.submitSearch,style:{width:"100%"}}))}}]),e}(o.PureComponent);et.defaultProps={queryText:"",onSearchInputValue:function(){},onChangeInputValue:function(){}};var at=et,ot=(a(287),Object(o.memo)(function(){return n.a.createElement("div",{"data-test":"spinnerContainer",className:"site-spinner"},n.a.createElement("div",{"data-test":"spinnerInner",className:"lds-ring"},n.a.createElement("div",{"data-test":"spinnerInnerItem"},"\xa0"),n.a.createElement("div",{"data-test":"spinnerInnerItem"},"\xa0"),n.a.createElement("div",{"data-test":"spinnerInnerItem"},"\xa0"),n.a.createElement("div",{"data-test":"spinnerInnerItem"},"\xa0")))})),nt=(a(288),Object(o.memo)(function(){return n.a.createElement("div",{"data-test":"spinnerPhotoContainer",className:"spinner-photo"},n.a.createElement("div",{"data-test":"spinnerPhotoInner",className:"lds-ring"},n.a.createElement("div",{"data-test":"spinnerPhotoInnerItem"},"\xa0"),n.a.createElement("div",{"data-test":"spinnerPhotoInnerItem"},"\xa0"),n.a.createElement("div",{"data-test":"spinnerPhotoInnerItem"},"\xa0"),n.a.createElement("div",{"data-test":"spinnerPhotoInnerItem"},"\xa0")))})),rt=a(111),st=a(206),it=a(207),ct=a.n(it),lt=a(465),ut=a(70),pt=a.n(ut),dt=(a(167),a(113)),mt=a.n(dt),ht=Object(o.memo)(function(t){var e=t.lastUpdateInfo,a=t.photoDesc,o=t.views,r=t.downloads,s=t.likes,i=t.cameraMake,c=t.focalLength,l=t.aperture,u=t.shutterspeed,p=t.iso,d=t.cameraModel,m=t.width,h=t.height,f=function(t){return pt()(t).format("LL")}(e),g=function(t){return mt()(t).format("0,0")}(o),_=function(t){return mt()(t).format("0,0")}(r),b=function(t){return mt()(t).format("0,0")}(s),v=n.a.createElement("header",{"data-test":"photoInfoHeader",className:"photo-info__header"},n.a.createElement("h2",{"data-test":"photoInfoTitle",className:"photo-info__title"},"Info"),a&&n.a.createElement("p",{className:"photo-info__desc"},n.a.createElement("i",null,n.a.createElement("b",{"data-test":"photoInfoDesc"},a))),n.a.createElement("p",{"data-test":"photoInfoDate",className:"photo-info__date"},"Published on"," ",f)),N=n.a.createElement("div",{"data-test":"photoInfoContent",className:"photo-info__content"},n.a.createElement("ul",{"data-test":"photoInfoListHead",className:"photo-info__list-head photo-info-list-head"},n.a.createElement("li",{"data-test":"photoInfoListHeadItem",className:"photo-info-list-head__item"},n.a.createElement("h3",{"data-test":"photoInfoListHeadTitle",className:"photo-info-list-head__title"},n.a.createElement(E.a,{type:"eye"})," ","Views"),n.a.createElement("p",{"data-test":"photoInfoListHeadTextMain",className:"photo-info-list-head__text-main"},g),n.a.createElement("p",{"data-test":"photoInfoListHeadText",className:"photo-info-list-head__text"},"")),n.a.createElement("li",{"data-test":"photoInfoListHeadItem",className:"photo-info-list-head__item"},n.a.createElement("h3",{"data-test":"photoInfoListHeadTitle",className:"photo-info-list-head__title"},n.a.createElement(E.a,{type:"arrow-down"})," ","Downloads"),n.a.createElement("p",{"data-test":"photoInfoListHeadTextMain",className:"photo-info-list-head__text-main"},_),n.a.createElement("p",{"data-test":"photoInfoListHeadText",className:"photo-info-list-head__text"},"")),n.a.createElement("li",{"data-test":"photoInfoListHeadItem",className:"photo-info-list-head__item"},n.a.createElement("h3",{"data-test":"photoInfoListHeadTitle",className:"photo-info-list-head__title"},n.a.createElement(E.a,{type:"heart"})," ","Likes"),n.a.createElement("p",{"data-test":"photoInfoListHeadTextMain",className:"photo-info-list-head__text-main"},b),n.a.createElement("p",{"data-test":"photoInfoListHeadText",className:"photo-info-list-head__text"},""))),n.a.createElement(lt.a,null),n.a.createElement("ul",{"data-test":"photoInfoListContent",className:"photo-info-list photo-info__list-content"},n.a.createElement("li",{"data-test":"photoInfoListItem",className:"photo-info-list__item"},n.a.createElement("h3",{"data-test":"photoInfoListTitle",className:"photo-info-list__title"},"Camera Make"),n.a.createElement("p",{"data-test":"photoInfoListText",className:"photo-info-list__text"},i||"--")),n.a.createElement("li",{"data-test":"photoInfoListItem",className:"photo-info-list__item"},n.a.createElement("h3",{"data-test":"photoInfoListTitle",className:"photo-info-list__title"},"Camera Model"),n.a.createElement("p",{"data-test":"photoInfoListText",className:"photo-info-list__text"},d||"--")),n.a.createElement("li",{"data-test":"photoInfoListItem",className:"photo-info-list__item"},n.a.createElement("h3",{"data-test":"photoInfoListTitle",className:"photo-info-list__title"},"Focal Length"),n.a.createElement("p",{"data-test":"photoInfoListText",className:"photo-info-list__text"},c||"--")),n.a.createElement("li",{"data-test":"photoInfoListItem",className:"photo-info-list__item"},n.a.createElement("h3",{"data-test":"photoInfoListTitle",className:"photo-info-list__title"},"Aperture"),n.a.createElement("p",{"data-test":"photoInfoListText",className:"photo-info-list__text"},l||"--")),n.a.createElement("li",{"data-test":"photoInfoListItem",className:"photo-info-list__item"},n.a.createElement("h3",{"data-test":"photoInfoListTitle",className:"photo-info-list__title"},"Shutter Speed"),n.a.createElement("p",{"data-test":"photoInfoListText",className:"photo-info-list__text"},u||"--")),n.a.createElement("li",{"data-test":"photoInfoListItem",className:"photo-info-list__item"},n.a.createElement("h3",{"data-test":"photoInfoListTitle",className:"photo-info-list__title"},"ISO"),n.a.createElement("p",{"data-test":"photoInfoListText",className:"photo-info-list__text"},p||"--")),n.a.createElement("li",{"data-test":"photoInfoListItem",className:"photo-info-list__item"},n.a.createElement("h3",{"data-test":"photoInfoListTitle",className:"photo-info-list__title"},"Dimensions"),n.a.createElement("p",{"data-test":"photoInfoListText",className:"photo-info-list__text"},m&&h?"".concat(m," x ").concat(h):"--"))));return n.a.createElement("div",{"data-test":"photoInfo",className:"photo-info"},v,N)});ht.defaultProps={lastUpdateInfo:"",photoDesc:"",views:0,downloads:0,likes:0,cameraMake:"",focalLength:"",aperture:"",shutterspeed:"",iso:0,cameraModel:"",width:0,height:0};var ft=ht,gt=(a(296),Object(o.memo)(function(t){var e=Object(st.a)({},t),a=Object(o.useState)(!1),r=Object(rt.a)(a,2),s=r[0],i=r[1];return n.a.createElement("div",{"data-test":"photoInfoWrap",className:"photo-info-wrap"},n.a.createElement(g.a,{"data-test":"openModalBtn",style:{marginLeft:"10px"},onClick:function(){return i(!0)}},n.a.createElement(E.a,{"data-test":"openModalBtnIcon",type:"info-circle"}),"Info"),n.a.createElement(ct.a,{"data-test":"modal",visible:s,effect:"fadeInDown",onClickAway:function(){return i(!1)},className:"modal"},n.a.createElement(ft,e)))})),Et=(a(297),Object(o.memo)(function(t){var e=t.text,a=t.smallErrorFlag;return n.a.createElement("div",{"data-test":"error",className:"".concat(a?"error error_small-list":"error ")},n.a.createElement("div",{"data-test":"errorContent",className:"error__content"},n.a.createElement("div",{"data-test":"errorContentInner",className:"error__content-inner"},n.a.createElement("h3",{"data-test":"errorTitle",className:"error__title"},"OOPS"),n.a.createElement("h2",{"data-test":"erroSubtitle",className:"error__subtitle"},e)," ",n.a.createElement(N.a,{to:"/","data-test":"errorLinkRouter"},n.a.createElement(g.a,{"data-test":"errorButton",style:{marginLeft:"10px"}},"BACK TO HOME")))),n.a.createElement("img",{"data-test":"errorBgImg",alt:e,src:"".concat(T),className:"error__bg"}))}));Et.propTypes={text:M.a.string,smallErrorFlag:M.a.bool},Et.defaultProps={text:"",smallErrorFlag:!1};var _t=Et,bt=a(14),vt=a(208),Nt=a.n(vt),Ot=Object(o.memo)(function(t){var e=t.config,a=function(t,e){return Object(bt.a)({chart:{type:"area"},colors:[t.colors],title:{text:t.title},xAxis:{categories:e.dates},plotOptions:{area:{stacking:"normal",lineColor:t.colors,lineWidth:1,marker:{lineWidth:6,lineColor:t.colors}}},series:[{name:t.seriesName,data:e.values}]},A)}(function(t){return w[t]}(t.configNum),e);return n.a.createElement(Nt.a,{"data-test":"highchartsContainer",config:a})});Ot.defaultProps={config:{},configNum:0};var It=Ot,St=a(109),Tt=a.n(St),Pt=a(467),Lt=(a(408),function(t){function e(){var t,a;Object(W.a)(this,e);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(a=Object(J.a)(this,(t=Object(X.a)(e)).call.apply(t,[this].concat(n)))).componentDidMount=function(){var t=a.props,e=t.userId,o=t.page,n=t.perPage,r=t.name,s=t.itemNum;(0,t.smallPhotoListingRequestAction)(e,o,n,r,s)},a.handlePaginationChange=function(t){var e=a.props,o=e.userId,n=e.perPage;(0,e.smallPhotoListingRequestAction)(o,t,n,e.name,e.itemNum)},a}return Object(Y.a)(e,t),Object(z.a)(e,[{key:"render",value:function(){var t=this.props,e=t.isSmallPhotoListingFetching,a=t.totalCards,o=t.page,r=t.perPage,s=t.cards,i=t.requestError,c=s.map(function(t){return n.a.createElement("li",{"data-test":"smallPhotoListingListItem",className:"small-photo-listing-list__item",key:t.photoID},n.a.createElement(N.a,{"data-test":"smallPhotoListingListLinkPhotoRouter",className:"small-photo-listing-list__link-photo",to:"/photo/".concat(t.photoID)},n.a.createElement("img",{"data-test":"smallPhotoListingListPhoto",className:"small-photo-listing-list__photo",alt:"example",src:t.photoUrl})))});return n.a.createElement("div",{"data-test":"smallPhotoListingContainer",className:"small-photo-listing-container"},e&&n.a.createElement(ot,{"data-test":"spinner"}),!e&&!i&&n.a.createElement("div",{"data-test":"smallPhotoListing",className:"small-photo-listing"},n.a.createElement(Tt.a,{"data-test":"smallPhotoListingList",className:"small-photo-listing-list",elementType:"ul",disableImagesLoaded:!1,updateOnEachImageLoad:!1},c),n.a.createElement("div",{"data-test":"paginationContainer",className:"small-photo-listing__pagination"},a>r&&n.a.createElement(Pt.a,{"data-test":"pagination",className:"ml-3 mb-5",onChange:this.handlePaginationChange,hideOnSinglePage:!0,current:o,defaultCurrent:1,total:a,pageSize:6}))),!e&&i&&n.a.createElement(_t,{"data-test":"error",smallErrorFlag:!0,text:"Sorry, an error occurred during the request. Try again later."}))}}]),e}(o.PureComponent));Lt.defaultProps={isSmallPhotoListingFetching:!0,cards:[],itemNum:0,totalCards:10,page:1,perPage:6,name:"photos",smallPhotoListingRequestAction:function(){},requestError:!1,history:{},userId:""};var yt={smallPhotoListingRequestAction:function(t,e,a,o,n){return{type:"SMALL_PHOTO_LISTING_FETCHING",isSmalPhotoListingFetching:!0,userId:t,page:e,perPage:a,name:o,itemNum:n}}},Ct=Object(s.b)(function(t,e){return t.smallphotolisting[e.itemNum]},yt)(Lt),xt=Object(o.memo)(function(t){var e=t.handleMethod;return t.tags.map(function(t){return n.a.createElement(G.a,{key:t.title,onClick:function(){return e(t.title,"tags")},className:"tag","data-test":"tag"},t.title)})});xt.propTypes={handleMethod:M.a.func,tags:M.a.arrayOf(M.a.object)},xt.defaultProps={handleMethod:function(){},tags:[]};var jt=xt,Rt=a(151),kt=a(213),wt=a.n(kt),At=(a(421),Object(o.memo)(function(t){var e=t.photoID,a=t.photoAltDesc,o=t.photoName;return n.a.createElement("div",{className:"photo-card-list__img photo-card-img"},n.a.createElement(N.a,{"data-test":"photoCardPhotoLink",to:"/photo/".concat(e),className:"photo-card-img__link"},n.a.createElement("img",{"data-test":"photoCardImg",className:"photo-card-img__photo",alt:a,src:o})))}));At.propTypes={photoID:M.a.string,photoAltDesc:M.a.string,photoName:M.a.string},At.defaultProps={photoID:"",photoAltDesc:"",photoName:""};var Dt=At,Ut=a(469),Ht=(a(422),Object(o.memo)(function(t){var e=t.onSearchTagValue,a=t.tags,o=function(t){return t.length<4?t:t.slice(0,3)}(a),r=function(t){return t.length>3&&t.slice(3)}(a);return n.a.createElement("div",{className:"photo-card-list__tags photo-card-tags","data-test":"photoCardTags"},n.a.createElement(jt,{"data-test":"photoCardTagMainContainer",handleMethod:e,tags:o}),r&&n.a.createElement(Ut.a,{"data-test":"photoCardPopover",placement:"top",title:"Remaining tags",content:n.a.createElement(jt,{"data-test":"photoCardTagPopup",handleMethod:e,tags:r}),trigger:"click"},n.a.createElement(G.a,{"data-test":"photoCardTagMore",className:"photo-card-tags__tag"},"more tags...")))}));Ht.defaultProps={onSearchTagValue:function(){},tags:[]};var Ft=Ht,qt=(a(423),Object(o.memo)(function(t){var e=t.userID,a=t.userAvatar,o=t.title;return n.a.createElement("div",{"data-test":"photoCardAutor",className:"photo-card-list__autor photo-card-autor"},n.a.createElement(N.a,{"data-test":"photoCardAutorLink",className:"photo-card-autor__link",to:"/users/".concat(e)},n.a.createElement("img",{"data-test":"photoCardAutorAvatar",className:"photo-card-autor__avatar",alt:e,src:a}),n.a.createElement("span",{"data-test":"photoCardAutorName",className:"photo-card-autor__name"},o)))}));qt.propTypes={userID:M.a.string,userAvatar:M.a.string,title:M.a.string},qt.defaultProps={userID:"",userAvatar:"",title:""};var Vt=qt,Mt=(a(424),Object(o.memo)(function(t){var e=t.photoDesc;return n.a.createElement("p",{className:"photo-card-list__desc photo-card-desc","data-test":"photoCardDesc"},e)}));Mt.propTypes={photoDesc:M.a.string},Mt.defaultProps={photoDesc:""};var Gt=Mt,Bt=(a(425),Object(o.memo)(function(){var t=Object(o.useState)(!1),e=Object(rt.a)(t,2),a=e[0],r=e[1];return n.a.createElement("div",{"data-test":"likesButtonContainer",className:"likes-button"},!a&&n.a.createElement("div",{className:"likes-button__off"},n.a.createElement(g.a,{"data-test":"likesButton",className:"likes-button__btn",onClick:function(){return r(!0)},style:{backgroundColor:"#fff"}},n.a.createElement(E.a,{"data-test":"likesButtonIcon",className:"likes-button__icon",type:"heart",theme:"filled",filledColor:"red",style:{color:"red"}}))),a&&n.a.createElement("div",{className:"likes-button__on"},n.a.createElement(g.a,{"data-test":"likesButton",className:"likes-button__btn",onClick:function(){return r(!1)},style:{backgroundColor:"red"}},n.a.createElement(E.a,{"data-test":"likesButtonIcon",className:"likes-button__icon",type:"heart",theme:"filled",filledColor:"#fff",style:{color:"#fff"}}))))}));Bt.defaultProps={};var Qt=Bt,Wt=a(214),zt=function(){var t="image.jpg";if(arguments.length)for(var e=0;e<arguments.length;e+=1){var a=e<0||arguments.length<=e?void 0:arguments[e];if(a){t=a[0].toUpperCase()+a.slice(1).replace(/\s/g,"-");break}}return t},Jt=(a(426),Object(o.memo)(function(t){var e=t.altDescriprion,a=t.photoDesc,o=t.photoSrc,r=t.textButton,s=void 0===r?null:r;console.log("1: ",e,a,o),console.log("2: ",a),console.log("3: ",o);return n.a.createElement("div",{"data-test":"downloadButtonContainer",className:"download-button"},n.a.createElement(g.a,{"data-test":"downloadButton",className:"download-button__btn",onClick:function(){var t=zt(e,a);Object(Wt.saveAs)(o,t)}},n.a.createElement(E.a,{"data-test":"downloadButtonIcon",className:"download-button__icon",type:"download"}),s))}));Jt.defaultProps={altDescriprion:"",photoDesc:"",photoSrc:"",textButton:""};var Xt=Jt,Yt=(a(427),Object(o.memo)(function(t){var e=t.onSearchTagValue,a=t.item;return n.a.createElement("li",{className:"photo-card-list-item photo-card-list__item"},n.a.createElement(Vt,{userID:a.userID,userAvatar:a.userAvatar,title:a.title}),n.a.createElement(Qt,null),n.a.createElement(Dt,{photoID:a.photoID,photoAltDesc:a.photoAltDesc,photoName:a.photoName}),n.a.createElement(Gt,{photoDesc:a.photoDesc}),n.a.createElement(Ft,{onSearchTagValue:e,tags:a.tags}),n.a.createElement(Xt,{altDescriprion:a.photoAltDesc,photoDesc:a.photoDesc,photoSrc:a.photoName}))}));Yt.propTypes={onSearchTagValue:M.a.func,item:M.a.shape({})},Yt.defaultProps={onSearchTagValue:function(){},item:{}};var Kt=Yt,Zt=(a(428),Object(o.memo)(function(){return n.a.createElement("div",{"data-test":"spinnerContainer",className:"photocard-spinner"},n.a.createElement("div",{className:"sk-circle-bounce"},n.a.createElement("div",{className:"sk-child sk-circle-1"}),n.a.createElement("div",{className:"sk-child sk-circle-2"}),n.a.createElement("div",{className:"sk-child sk-circle-3"}),n.a.createElement("div",{className:"sk-child sk-circle-4"}),n.a.createElement("div",{className:"sk-child sk-circle-5"}),n.a.createElement("div",{className:"sk-child sk-circle-6"}),n.a.createElement("div",{className:"sk-child sk-circle-7"}),n.a.createElement("div",{className:"sk-child sk-circle-8"}),n.a.createElement("div",{className:"sk-child sk-circle-9"}),n.a.createElement("div",{className:"sk-child sk-circle-10"}),n.a.createElement("div",{className:"sk-child sk-circle-11"}),n.a.createElement("div",{className:"sk-child sk-circle-12"})))})),$t=(a(429),Object(o.memo)(function(t){var e=t.onSearchTagValue,a=t.getPaginationChange,o=t.cards,r=t.totalCards;return n.a.createElement(wt.a,{pageStart:0,"data-test":"photoCardList",initialLoad:!1,threshold:250,loadMore:a,loader:r>o.length?n.a.createElement(Zt,{key:"spinner"}):null,hasMore:r>o.length},n.a.createElement(Tt.a,{className:"photo-card-list",elementType:"ul",disableImagesLoaded:!1,updateOnEachImageLoad:!1},o.map(function(t){return n.a.createElement(Kt,{key:t.photoID,"data-test":"photoCard",onSearchTagValue:e,getPaginationChange:a,item:t})})))}));$t.propTypes={onSearchTagValue:M.a.func,getPaginationChange:M.a.func,cards:M.a.arrayOf(M.a.object),totalCards:M.a.number},$t.defaultProps={onSearchTagValue:function(){},getPaginationChange:function(){},cards:[],totalCards:0};var te=$t,ee=(a(430),a(431),function(t){function e(){var t,a;Object(W.a)(this,e);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(a=Object(J.a)(this,(t=Object(X.a)(e)).call.apply(t,[this].concat(n)))).state={page:1,cards:[]},a.componentDidUpdate=function(t){var e=a.props,o=e.cardsData,n=e.handle\u0421ardsPhotosAction,r=a.state.cards,s=a.props.cards;if(t.cards!==s){var i=[].concat(Object(Rt.a)(r),Object(Rt.a)(s));a.setState({cards:i})}JSON.stringify(t.cardsData)!==JSON.stringify(o)&&(n(Object(bt.a)({},o,{page:1})),a.setState({page:1,cards:[]}))},a.componentDidMount=function(){var t=a.props,e=t.match.params.tag,o=t.searchTextAction;e?o(e,"tags"):a.getCardsPhotos()},a.getCardsPhotos=function(){var t=a.props,e=t.cardsData;(0,t.handle\u0421ardsPhotosAction)(e)},a.getPaginationChange=function(){var t=a.props,e=t.handle\u0421ardsPhotosAction,o=t.cardsData,n=a.state.page;e(Object(bt.a)({},o,{page:n+1})),a.setState({page:n+1})},a.getFilterItemValue=function(t,e){(0,a.props.filterItemValueAction)(t,e)},a.getSearchText=function(t,e){(0,a.props.searchTextAction)(t,e)},a.getChangeInputValue=function(t){(0,a.props.searchChangeInputValueAction)(t)},a}return Object(Y.a)(e,t),Object(z.a)(e,[{key:"render",value:function(){var t=this.props,e=t.filters,a=t.totalCards,o=t.cardsData,r=t.navTopItemActive,s=t.photolistingRequestError,i=this.state.cards;return s?n.a.createElement("div",{className:"error-text","data-test":"errorText"},"Error loading photolisting"):n.a.createElement("div",{className:"App"},n.a.createElement(at,{"data-test":"search",onSearchInputValue:this.getSearchText,onChangeInputValue:this.getChangeInputValue,queryText:o.query}),n.a.createElement(Q,{"data-test":"navTop",navTopItemActive:r,onFilterItemValue:this.getFilterItemValue,filters:e}),n.a.createElement(te,{"data-test":"photoCard",onSearchTagValue:this.getSearchText,getPaginationChange:this.getPaginationChange,cards:i,totalCards:a}),!a&&n.a.createElement("div",{className:"cards__text-empty","data-test":"cardsTextEmpty"},"No images were found for your request. Try to find more."))}}]),e}(o.PureComponent));ee.defaultProps={"handle\u0421ardsPhotosAction":function(){},cardsPhotosRequestAction:function(){},paginationChangeAction:function(){},filterItemValueAction:function(){},searchTextAction:function(){},searchChangeInputValueAction:function(){},filters:[],isListingLoading:!1,cards:[],cardsData:{query:"wallpapers",page:1,per_page:6},totalCards:0,navTopItemActive:2,photolistingRequestError:!1,match:{params:{tag:""}}};var ae={"handle\u0421ardsPhotosAction":function(t){return{type:"CARDS_PHOTOS_FETCHING",isListingLoading:!0,cardsData:t}},paginationChangeAction:function(t){return{type:"PAGINATION_CHANGE",page:t}},filterItemValueAction:function(t,e){return{type:"FILTER_ITEM_VALUE",itemText:t,itemId:e}},searchTextAction:function(t,e){return{type:"SEARCH_TEXT",tags:e,text:t}},searchChangeInputValueAction:function(t){return{type:"SEARCH_TEXT_CHANGE_INPUT_VALUE",text:t}}},oe=Object(s.b)(function(t){return t.photolisting},ae)(ee),ne=a(471),re=a(215),se=a.n(re),ie=function(t,e,a){if(!t.isSuccessPhotoRequest){var o=t.widthPhoto,n=t.heightPhoto,r=e-2,s=a-147-53,i=0,c=0;if(o>n)return i=Math.floor(o/r),(c=Math.floor(n/i))>s?{photoWidth:"auto",photoHeight:"".concat(s-60,"px")}:{photoWidth:"auto",photoHeight:"".concat(c-60,"px")};if(n>o)return c=Math.floor(n/s),(i=Math.floor(o/c))>r?{photoWidth:"".concat(r-60,"px"),photoHeight:"auto"}:{photoWidth:"".concat(i-60,"px"),photoHeight:"auto"}}return{photoWidth:"300px",photoHeight:"auto"}},ce=(a(436),function(t){function e(t){var a;return Object(W.a)(this,e),(a=Object(J.a)(this,Object(X.a)(e).call(this,t))).componentDidMount=function(){var t=a.props,e=t.match;(0,t.photoRequestAction)(e),a.setPhotoSize(),window.addEventListener("resize",a.setPhotoSize)},a.componentDidUpdate=function(t){var e=a.props.widthPhoto;t.widthPhoto!==e&&a.setPhotoSize()},a.componentWillUnmount=function(){window.removeEventListener("resize",a.setPhotoSize)},a.setPhotoSize=function(){var t=a.photoContainer.current.offsetWidth,e=window.document.documentElement.clientHeight,o=ie(a.props,t,e);a.setState({photoWidth:o.photoWidth,photoHeight:o.photoHeight})},a.state={photoWidth:null,photoHeight:null},a.photoContainer=n.a.createRef(),a}return Object(Y.a)(e,t),Object(z.a)(e,[{key:"render",value:function(){var t=this.state,e=t.photoWidth,a=t.photoHeight,o=this.props,r=o.info,s=o.userFirstName,i=o.userLastName,c=o.userName,l=o.twitterName,u=o.photoProfile,p=o.tags,d=o.altDescriprion,m=o.photoSrc,h=o.isPhotoLoading,f=o.requestError,_=o.isSuccessPhotoRequest,b=o.photoImageLoadAction,v={width:e,height:a};return n.a.createElement("div",{"data-test":"photoContainer",className:"photo-container photo",id:"photo-container",ref:this.photoContainer},!_&&!f&&n.a.createElement(ne.a,{"data-test":"photoCard",title:n.a.createElement(N.a,{"data-test":"photoTwitterLinkRouter",to:"/users/".concat(c)},n.a.createElement("div",{"data-test":"photoTwitter",className:"photo__twitter photo-twitter"},n.a.createElement("img",{"data-test":"photoTwitterAvatar",src:u,alt:"Avatar",className:"photo-twitter__ava"}),n.a.createElement("div",{"data-test":"photoTwitterContent",className:"photo-twitter__content"},n.a.createElement("p",{"data-test":"photoTwitterUserName",className:"photo-twitter__user-name"},"".concat(s," ").concat(i)),n.a.createElement("p",{"data-test":"photoTwitterName",className:"photo-twitter__twitter-name"},"@",l)))),extra:n.a.createElement(Xt,{photoDesc:r.photoDesc,altDescriprion:d,photoSrc:m,textButton:"Download"}),style:{width:"100%",height:"100%",padding:0},bodyStyle:{padding:0},headStyle:{padding:"0 10px"}},n.a.createElement("div",{"data-test":"photoContent",className:"photo__content photo-content"},h&&n.a.createElement(nt,{"data-test":"photoSpinner"}),n.a.createElement(se.a,{"data-test":"photoImageZoom",defaultStyles:{overlay:{background:"rgba(0, 0, 0, .8)"}},image:{"data-test":"photoImageZoomImg",src:m,alt:d,className:"photo-content__photo",style:v,onLoad:b},zoomImage:{src:m,alt:d}}),n.a.createElement("div",{"data-test":"photoFooter",className:"photo-content__footer photo-footer"},n.a.createElement("div",{"data-test":"photoFooterTags",className:"photo-footer__tags"},p.length&&n.a.createElement(Ut.a,{"data-test":"photoPopover",placement:"topLeft",title:"All tags",content:n.a.createElement("div",null,p.map(function(t){return n.a.createElement(N.a,{"data-test":"photoTagLinkRouter",to:"/".concat(t.title),key:t.title},n.a.createElement(G.a,{"data-test":"photoTag",key:t.title},t.title))})),trigger:"click"},n.a.createElement(g.a,{"data-test":"photoPopoverButton",style:{marginLeft:"10px"},href:"#"},n.a.createElement(E.a,{type:"tag","data-test":"photoPopoverButtonIcon"}),"Show all tags"))),n.a.createElement("div",{"data-test":"photoFooterBtns",className:"photo-footer__btns"},n.a.createElement(g.a,{"data-test":"photoFooterBtnsBtn",style:{marginLeft:"10px"},href:"#"},n.a.createElement(E.a,{type:"share-alt"}),"Share"),n.a.createElement(gt,Object.assign({"data-test":"photoInfoPhotoModal"},r)))))),!h&&!_&&f&&n.a.createElement(_t,{"data-test":"photoError",text:"Sorry, no photo found"}))}}]),e}(o.Component));ce.defaultProps={photoImageLoadAction:function(){},photoRequestAction:function(){},info:{},userFirstName:"",userLastName:"",userName:"",twitterName:"",photoProfile:"",tags:[],altDescriprion:"",photoSrc:"",widthPhoto:300,heightPhoto:300,isPhotoLoading:!0,isSuccessPhotoRequest:!0,requestError:!1,match:{},history:{}};var le={photoRequestAction:function(t){return{type:"PHOTO_FETCHING",isPhotoLoading:!0,match:t}},photoImageLoadAction:function(){return{type:"PHOTO_IMAGE_LOAD"}}},ue=Object(s.b)(function(t){return t.photo},le)(ce),pe=(a(440),function(t){function e(){var t,a;Object(W.a)(this,e);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(a=Object(J.a)(this,(t=Object(X.a)(e)).call.apply(t,[this].concat(n)))).componentDidMount=function(){a.props.profilePhotoUrl||(0,a.props.loadingRequestAction)(window.document.location)},a.handleLoguotProfile=function(){var t=a.props,e=t.history;(0,t.logoutAction)(),window.localStorage.clear(),e.push("/")},a}return Object(Y.a)(e,t),Object(z.a)(e,[{key:"render",value:function(){var t=this.props,e=t.fetching,a=t.loginError,o=t.profilePhotoUrl,r=t.profileFullName,s=t.profileEmail,i=t.profileName;return n.a.createElement("div",{"data-test":"profile",className:"profile"},e&&n.a.createElement(ot,{"data-test":"spinner",className:"spinner"}),!e&&!a&&n.a.createElement("div",{"data-test":"profileContent",className:"profile__content profile-content"},n.a.createElement("img",{"data-test":"profileContentAvatar",className:"profile-content__avatar",src:o,alt:"Profile avatar"}),n.a.createElement("div",{"data-test":"profileContentTitleWrap",className:"profile-content__title-wrap"},n.a.createElement("h2",{"data-test":"profileContentTitle",className:"profile-content__title"},r),n.a.createElement("p",{"data-test":"profileContentEmail"},s),n.a.createElement("p",{"data-test":"profileContentText",className:"profile-content__text"},"Download free, beautiful high-quality photos curated by"," ",i))),!e&&a&&n.a.createElement(_t,{"data-test":"error",text:"An authorization failed. Try logging in later!"}))}}]),e}(o.PureComponent));pe.defaultProps={logoutAction:function(){},loadingRequestAction:function(){},profilePhotoUrl:"",profileFullName:"",profileName:"",profileEmail:"",fetching:!1,loginError:!1,history:{}};var de={loadingRequestAction:function(t){return{type:"LOGIN_FETCHING",fetching:!0,location:t}},logoutAction:D},me=Object(s.b)(function(t){return t.login},de)(pe),he=a(150),fe=a(466),ge=(a(441),he.a.TabPane),Ee=function(t){function e(){var t,a;Object(W.a)(this,e);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(a=Object(J.a)(this,(t=Object(X.a)(e)).call.apply(t,[this].concat(n)))).componentDidMount=function(){var t=a.props,e=t.match;(0,t.userRequestAction)(e)},a}return Object(Y.a)(e,t),Object(z.a)(e,[{key:"render",value:function(){var t=this.props,e=t.match,a=t.isUserFetching,o=t.userPhoto,r=t.userFirstPhoto,s=t.requestError;return n.a.createElement("div",{"data-test":"userContainer",className:"user-container"},a&&n.a.createElement(ot,{"data-test":"spinner"}),!a&&!s&&n.a.createElement(n.a.Fragment,null,n.a.createElement(m.a,{style:{display:"flex",justifyContent:"center"}},n.a.createElement(h.a,null,n.a.createElement("img",{"data-test":"userAvatar",className:"user-card__first-img",alt:"example",src:r}),n.a.createElement("div",{"data-test":"userCardPhotoWrap",className:"user-card__photo-wrap"},n.a.createElement(fe.a,{"data-test":"userCardPhotoAvatar",size:150,src:o})))),n.a.createElement(m.a,{style:{display:"flex",justifyContent:"center",overflow:"hidden"}},n.a.createElement(h.a,null,n.a.createElement("div",{"data-test":"userTabs",className:"user-tabs"},n.a.createElement(he.a,{"data-test":"userTabsItem",className:"user-tabs__item",defaultActiveKey:"1"},n.a.createElement(ge,{tab:"My photos",key:"1",className:"user-tabs__pane"},n.a.createElement(Ct,{"data-test":"smallPhotoListing",userId:e.params.id,itemNum:0,name:"photos"})),n.a.createElement(ge,{tab:"My likes",key:"2",className:"user-tabs__pane"},n.a.createElement(Ct,{"data-test":"smallPhotoListing",userId:e.params.id,itemNum:1,name:"likes"})),n.a.createElement(ge,{tab:"My statistic",key:"3",className:"user-tabs__pane"},n.a.createElement(Oe,{"data-test":"userStatistic",userId:e.params.id}))))))),!a&&s&&n.a.createElement(_t,{"data-test":"photoError",text:"Sorry, user is not found"}))}}]),e}(o.PureComponent);Ee.defaultProps={isUserFetching:!0,userPhoto:"",userFirstPhoto:"",userRequestAction:function(){},requestError:!1,history:{},match:{params:{id:""}}};var _e={userRequestAction:function(t){return{type:"USER_FETCHING",isUserFetching:!0,match:t}}},be=Object(s.b)(function(t){return t.user},_e)(Ee),ve=(a(442),function(t){function e(){var t,a;Object(W.a)(this,e);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(a=Object(J.a)(this,(t=Object(X.a)(e)).call.apply(t,[this].concat(n)))).componentDidMount=function(){var t=a.props.userId;(0,a.props.userStatistingRequestAction)(t)},a.shouldComponentUpdate=function(t){var e=a.props.chartData,o=t.chartData;return JSON.stringify(e)!==JSON.stringify(o)},a}return Object(Y.a)(e,t),Object(z.a)(e,[{key:"render",value:function(){var t=this.props,e=t.isListingLoading,a=t.requestError,o=t.chartData;return n.a.createElement("div",{"data-test":"userStatistic",className:"user-statistic"},e&&n.a.createElement(ot,{"data-test":"spinner",className:"spinner"}),!e&&!a&&n.a.createElement("div",{"data-test":"userStatisticCharts",className:"user-statistic__charts"},o.map(function(t,e){return n.a.createElement(It,{"data-test":"highchartsHOC",config:t,configNum:e,key:e})})),!e&&a&&n.a.createElement(_t,{"data-test":"error",text:"Failed to get user statistics. Try later again"}))}}]),e}(o.Component));ve.defaultProps={userStatistingRequestAction:function(){},isListingLoading:!1,userId:"",chartData:[],requestError:!1};var Ne={userStatistingRequestAction:function(t){return{type:"USER_STATISTIC_FETCHING",isListingLoading:!0,userId:t}}},Oe=Object(s.b)(function(t){return t.userstatistic},Ne)(ve),Ie=(a(443),Object(o.memo)(function(){return n.a.createElement(u.a,{basename:"/React-Photo-Listing-Demo"},n.a.createElement(l.LastLocationProvider,null,n.a.createElement(m.a,{className:"header-row"},n.a.createElement(h.a,null,n.a.createElement(f.a,{className:"user-layout"},n.a.createElement(q,null)))),n.a.createElement("div",{className:"page"},n.a.createElement(p.a,null,n.a.createElement(d.a,{exact:!0,path:"/",component:function(t){return n.a.createElement(oe,t)}}),n.a.createElement(d.a,{path:"/photo/:id",component:function(t){return n.a.createElement(ue,t)}}),n.a.createElement(d.a,{path:"/profile",component:function(t){return n.a.createElement(me,t)}}),n.a.createElement(d.a,{path:"/users/:id",component:function(t){return n.a.createElement(be,t)}}),n.a.createElement(d.a,{path:"/:tag",component:function(t){return n.a.createElement(oe,t)}})))))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Se={login:{profilePhotoUrl:"",profileFullName:"",profileName:"",profileEmail:"",fetching:!1,loginError:!1},photolisting:{filters:[{id:0,label:"Editorial",filterValue:"editorial"},{id:1,label:"Following",filterValue:"following",border:!0},{id:2,label:"Wallpapers",filterValue:"wallpapers"},{id:3,label:"Textures & Patterns",filterValue:"textures"},{id:4,label:"Nature",filterValue:"nature"},{id:5,label:"Current Events",filterValue:"events"},{id:6,label:"Architecture",filterValue:"architecture"},{id:7,label:"Business & Work",filterValue:"business"},{id:8,label:"Animals",filterValue:"animals"},{id:9,label:"Travel",filterValue:"travel"},{id:10,label:"Fashion",filterValue:"fashion"},{id:11,label:"Food & Drink",filterValue:"food-drink"},{id:12,label:"Spirituality",filterValue:"spirituality"},{id:13,label:"Experimental",filterValue:"experimental"},{id:14,label:"People",filterValue:"people"},{id:15,label:"Health",filterValue:"health"},{id:16,label:"Arts & Culture",filterValue:"arts-culture"}],isListingLoading:!1,cards:[],totalCards:10,navTopItemActive:2,cardsData:{query:"wallpapers",page:1,per_page:6},photolistingRequestError:!1},userstatistic:{isListingLoading:!1,chartData:[],requestError:!1},photo:{info:{lastUpdateInfo:"",photoDesc:"",views:0,downloads:0,likes:0,cameraMake:"",focalLength:"",aperture:"",shutterspeed:"",iso:0,cameraModel:"",width:"",height:""},userFirstName:"",userLastName:"",userName:"",twitterName:"",photoProfile:"",tags:[],altDescriprion:"",photoSrc:"",widthPhoto:300,heightPhoto:300,isPhotoLoading:!0,isSuccessPhotoRequest:!0,requestError:!1},user:{isUserFetching:!1,userPhoto:"",userFirstPhoto:""},smallphotolisting:[{isSmallPhotoListingFetching:!1,cards:[],totalCards:10,page:1,perPage:6},{isSmallPhotoListingFetching:!1,cards:[],totalCards:10,page:1,perPage:6}]},Te=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(e.type){case"LOGIN_FETCHING":return Object(bt.a)({},t,{fetching:!0,loginError:!1});case"LOGIN_SUCCESS":return Object(bt.a)({},t,e.dataForProps,{fetching:!1,loginError:!1});case"LOGIN_ERROR":return Object(bt.a)({},t,{fetching:!1,loginError:!0});case"LOGOUT":return Se.login;default:return t}},Pe=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(e.type){case"CARDS_PHOTOS_FETCHING":return Object(bt.a)({},t,{isListingLoading:!0});case"CARDS_PHOTOS_REQUEST_SUCCESS":return Object(bt.a)({},t,e.dataForProps,{photolistingRequestError:!1});case"PAGINATION_CHANGE":return Object(bt.a)({},t,{cardsData:Object(bt.a)({},t.cardsData,{page:e.page})});case"FILTER_ITEM_VALUE":return Object(bt.a)({},t,{navTopItemActive:e.itemId,cardsData:Object(bt.a)({},t.cardsData,{page:1,query:e.itemText})});case"SEARCH_TEXT":return Object(bt.a)({},t,{navTopItemActive:e.tags?-2:t.navTopItemActive,cardsData:Object(bt.a)({},t.cardsData,{page:1,query:e.text})});case"SEARCH_TEXT_CHANGE_INPUT_VALUE":return Object(bt.a)({},t,{cardsData:Object(bt.a)({},t.cardsData,{query:e.text})});case"CARDS_PHOTOS_REQUEST_ERROR":return Object(bt.a)({},t,{isListingLoading:!1,photolistingRequestError:!0});default:return t}},Le=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(e.type){case"USER_STATISTIC_FETCHING":return Object(bt.a)({},t,{isListingLoading:!0});case"USER_STATISTIC_REQUEST_SUCCESS":return Object(bt.a)({},t,{chartData:e.dataForProps,isListingLoading:!1,requestError:!1});case"USER_STATISTIC_REQUEST_ERROR":return Object(bt.a)({},t,{isListingLoading:!1,requestError:!0});default:return t}},ye={type:""},Ce=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ye;switch(e.type){case"PHOTO_FETCHING":return Object(bt.a)({},t,{isPhotoLoading:!0,isSuccessPhotoRequest:!0});case"PHOTO_REQUEST_SUCCESS":return Object(bt.a)({},t,e.dataForProps,{isPhotoLoading:!0,isSuccessPhotoRequest:!1,requestError:!1});case"PHOTO_REQUEST_ERROR":return Object(bt.a)({},t,{isPhotoLoading:!1,isSuccessPhotoRequest:!1,requestError:!0});case"PHOTO_IMAGE_LOAD":return Object(bt.a)({},t,{isPhotoLoading:!1,isSuccessPhotoRequest:!1,requestError:!1});default:return t}},xe=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(e.type){case"USER_FETCHING":return Object(bt.a)({},t,{isUserFetching:!0});case"USER_REQUEST_SUCCESS":return Object(bt.a)({},t,e.dataForProps,{isUserFetching:!1,requestError:!1});case"USER_REQUEST_ERROR":return Object(bt.a)({},t,{isUserFetching:!1,requestError:!0});default:return t}},je=a(76),Re={type:""},ke=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Re;switch(e.type){case"SMALL_PHOTO_LISTING_FETCHING":return Object(bt.a)({},t,Object(je.a)({},e.itemNum,{isSmallPhotoListingFetching:!0}));case"SMALL_PHOTO_LISTING_SUCCESS":return Object(bt.a)({},t,Object(je.a)({},e.dataForProps.itemNum,Object(bt.a)({},e.dataForProps,{isSmallPhotoListingFetching:!1,requestError:!1})));case"SMALL_PHOTO_LISTING_REQUEST_ERROR":return Object(bt.a)({},t,Object(je.a)({},e.itemNum,{isSmallPhotoListingFetching:!1,requestError:!0}));default:return t}},we=Object(i.c)({login:Te,photolisting:Pe,userstatistic:Le,photo:Ce,user:xe,smallphotolisting:ke}),Ae=a(19),De=a.n(Ae),Ue=a(12),He=a(37),Fe=a.n(He),qe=a(8),Ve=a.n(qe),Me=De.a.mark(ze),Ge=De.a.mark(Je),Be=De.a.mark(Xe),Qe=function(t){return{profilePhotoUrl:Ve()(t,"data.profile_image.large",S),profileName:Ve()(t,"data.first_name",""),profileFullName:Ve()(t,"data.name",""),profileEmail:Ve()(t,"data.email","")}},We={getProfile:function(t){return Fe()(function(t){var e={Authorization:"Bearer ".concat(t)};return{method:"get",url:O,headers:e}}(t)).then(Qe)}};function ze(t){var e;return De.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(Ue.b)(We.getProfile,t);case 3:return e=a.sent,a.next=6,Object(Ue.c)({type:"LOGIN_SUCCESS",dataForProps:e});case 6:a.next=12;break;case 8:return a.prev=8,a.t0=a.catch(0),a.next=12,Object(Ue.c)({type:"LOGIN_ERROR"});case 12:case"end":return a.stop()}},Me,null,[[0,8]])}function Je(t){var e,a,o;return De.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e={url:I,body:{redirect_uri:"https://psywalker.github.io/React-Photo-Listing-Demo/profile",client_secret:"90a62ecb27270b9f05f059e880d3fcd878aad1f8120c6e765f11da158d97cf40",code:t,grant_type:"authorization_code",client_id:"bba0e5effd29d1c0d0957b57759a6b65f34fe4fece1188a73a4dcee69b53d3a5"}},n.prev=1,n.next=4,Object(Ue.b)(Fe.a.post,e.url,e.body);case 4:return a=n.sent,n.next=7,Object(Ue.b)(Ve.a,a,"data.access_token",!1);case 7:return o=n.sent,window.localStorage.clear(),window.localStorage.setItem("token",o),n.next=12,Object(Ue.b)(ze,o);case 12:n.next=18;break;case 14:return n.prev=14,n.t0=n.catch(1),n.next=18,Object(Ue.c)({type:"LOGIN_ERROR"});case 18:case"end":return n.stop()}},Ge,null,[[1,14]])}function Xe(t){var e,a;return De.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(e=window.localStorage.getItem("token"),a=!!(t&&t.location&&t.location.search)&&t.location.search.split("?code=")[1],!e||"undefined"===e){o.next=7;break}return o.next=5,Object(Ue.b)(ze,e);case 5:o.next=14;break;case 7:if(!a){o.next=12;break}return o.next=10,Object(Ue.b)(Je,a);case 10:o.next=14;break;case 12:return o.next=14,Object(Ue.c)({type:"LOGIN_ERROR"});case 14:case"end":return o.stop()}},Be)}var Ye=De.a.mark($e),Ke=function(t){return{cards:Ve()(t,"data.results",[]).map(function(t){return{photoName:Ve()(t,"urls.regular",""),photoDesc:null!==t.description?t.description:"",photoAltDesc:null!==t.alt_description?t.alt_description:"Photo",title:Ve()(t,"user.first_name",""),tags:Ve()(t,"tags",[]),photoID:Ve()(t,"id",""),userID:Ve()(t,"user.username",""),userAvatar:Ve()(t,"user.profile_image.large",""),likes:Ve()(t,"likes",0)}}),isListingLoading:!1,totalCards:Ve()(t,"data.total",10)}},Ze={getPhotoListing:function(t){return Fe()(function(t){return{method:"get",url:"https://api.unsplash.com/search/photos",params:Object(bt.a)({},t,{client_id:"bba0e5effd29d1c0d0957b57759a6b65f34fe4fece1188a73a4dcee69b53d3a5"})}}(t)).then(Ke)}};function $e(t){var e,a,o;return De.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!(e=t.cardsData)){n.next=16;break}return n.prev=2,n.next=5,Object(Ue.b)(Ze.getPhotoListing,e);case 5:return a=n.sent,n.next=8,Object(Ue.c)({type:"CARDS_PHOTOS_REQUEST_SUCCESS",dataForProps:a});case 8:n.next=14;break;case 10:return n.prev=10,n.t0=n.catch(2),n.next=14,Object(Ue.c)({type:"CARDS_PHOTOS_REQUEST_ERROR",error:n.t0});case 14:n.next=19;break;case 16:return o={},n.next=19,Object(Ue.c)({type:"CARDS_PHOTOS_REQUEST_ERROR",error:o});case 19:case"end":return n.stop()}},Ye,null,[[2,10]])}var ta=De.a.mark(oa),ea=function(t){return[Ve()(t,"data.downloads.historical.values",[]),Ve()(t,"data.views.historical.values",[]),Ve()(t,"data.likes.historical.values",[])].map(function(t){return{dates:t.map(function(t){return pt()(new Date(t.date)).format("DD MMMM YYYY")}),values:t.map(function(t){return t.value})}})},aa={getUserStatistic:function(t){return Fe()(function(t){return{method:"get",url:k(t),params:{client_id:"bba0e5effd29d1c0d0957b57759a6b65f34fe4fece1188a73a4dcee69b53d3a5"}}}(t)).then(ea)}};function oa(t){var e,a;return De.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!(e=t.userId)){o.next=16;break}return o.prev=2,o.next=5,Object(Ue.b)(aa.getUserStatistic,e);case 5:return a=o.sent,o.next=8,Object(Ue.c)({type:"USER_STATISTIC_REQUEST_SUCCESS",dataForProps:a});case 8:o.next=14;break;case 10:return o.prev=10,o.t0=o.catch(2),o.next=14,Object(Ue.c)({type:"USER_STATISTIC_REQUEST_ERROR",error:o.t0});case 14:o.next=18;break;case 16:return o.next=18,Object(Ue.c)({type:"USER_STATISTIC_REQUEST_ERROR"});case 18:case"end":return o.stop()}},ta,null,[[2,10]])}var na=De.a.mark(ia),ra=function(t){return{info:{lastUpdateInfo:Ve()(t,"data.updated_at",""),photoDesc:Ve()(t,"data.description",""),views:Ve()(t,"data.views",0),downloads:Ve()(t,"data.downloads",0),likes:Ve()(t,"data.likes",0),cameraMake:Ve()(t,"data.exif.make",""),focalLength:Ve()(t,"data.exif.focal_length",""),aperture:Ve()(t,"data.exif.aperture",""),shutterspeed:Ve()(t,"data.exif.exposure_time",""),iso:Ve()(t,"data.exif.iso",0),cameraModel:Ve()(t,"data.exif.model",""),width:Ve()(t,"data.width",300),height:Ve()(t,"data.height",300)},userFirstName:Ve()(t,"data.user.first_name",""),userLastName:Ve()(t,"data.user.last_name",""),userName:Ve()(t,"data.user.username",""),twitterName:Ve()(t,"data.user.instagram_username",""),photoProfile:Ve()(t,"data.user.profile_image.large",""),tags:Ve()(t,"data.tags",[]),altDescriprion:Ve()(t,"data.alt_description",""),photoSrc:Ve()(t,"data.urls.regular",""),widthPhoto:Ve()(t,"data.width",300),heightPhoto:Ve()(t,"data.height",300)}},sa={getPhoto:function(t){return Fe()(function(t){return{method:"get",url:j(t)}}(t)).then(ra)}};function ia(t){var e,a;return De.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!(e=t.match)){o.next=16;break}return o.prev=2,o.next=5,Object(Ue.b)(sa.getPhoto,e);case 5:return a=o.sent,o.next=8,Object(Ue.c)({type:"PHOTO_REQUEST_SUCCESS",dataForProps:a});case 8:o.next=14;break;case 10:return o.prev=10,o.t0=o.catch(2),o.next=14,Object(Ue.c)({type:"PHOTO_REQUEST_ERROR",error:o.t0});case 14:o.next=18;break;case 16:return o.next=18,Object(Ue.c)({type:"PHOTO_REQUEST_ERROR"});case 18:case"end":return o.stop()}},na,null,[[2,10]])}var ca=De.a.mark(pa),la=function(t){return{userPhoto:Ve()(t,"data.profile_image.large","No User Photo"),userFirstPhoto:Ve()(t,"data.photos[0].urls.regular","No Photo")}},ua={getUser:function(t){return Fe()(function(t){return{method:"get",url:R(t)}}(t)).then(la)}};function pa(t){var e,a;return De.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!(e=t.match)){o.next=16;break}return o.prev=2,o.next=5,Object(Ue.b)(ua.getUser,e);case 5:return a=o.sent,o.next=8,Object(Ue.c)({type:"USER_REQUEST_SUCCESS",dataForProps:a});case 8:o.next=14;break;case 10:return o.prev=10,o.t0=o.catch(2),o.next=14,Object(Ue.c)({type:"USER_REQUEST_ERROR",error:o.t0});case 14:o.next=18;break;case 16:return o.next=18,Object(Ue.c)({type:"USER_REQUEST_ERROR"});case 18:case"end":return o.stop()}},ca,null,[[2,10]])}var da=De.a.mark(ha),ma={getSmallPhotoListing:function(t){var e=t.page,a=t.perPage,o=t.itemNum,n=t.userId,r=t.name;return Fe()(function(t,e,a,o){var n=function(t){return"".concat("https://api.unsplash.com/","users/").concat(t,"/likes")}(a);return"photos"===t&&(n=function(t){return"".concat("https://api.unsplash.com/","users/").concat(t,"/photos")}(a)),{method:"get",url:n,params:{page:e,per_page:o,client_id:"bba0e5effd29d1c0d0957b57759a6b65f34fe4fece1188a73a4dcee69b53d3a5"}}}(r,e,n,a)).then(function(t,e,a){return function(o){var n=Ve()(o,"data",[]).map(function(t){return{photoUrl:Ve()(t,"urls.regular",""),photoID:Ve()(t,"id","")}});return{page:t,perPage:e,cards:n,totalCards:parseInt(Ve()(o,'headers["x-total"]',10),10),itemNum:a}}}(e,a,o))}};function ha(t){var e,a,o,n;return De.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(e=t.userId,a=t.itemNum,!e){r.next=16;break}return r.prev=2,r.next=5,Object(Ue.b)(ma.getSmallPhotoListing,t);case 5:return o=r.sent,r.next=8,Object(Ue.c)({type:"SMALL_PHOTO_LISTING_SUCCESS",dataForProps:o});case 8:r.next=14;break;case 10:return r.prev=10,r.t0=r.catch(2),r.next=14,Object(Ue.c)({type:"SMALL_PHOTO_LISTING_REQUEST_ERROR",error:r.t0,itemNum:a});case 14:r.next=19;break;case 16:return n={},r.next=19,Object(Ue.c)({type:"SMALL_PHOTO_LISTING_REQUEST_ERROR",error:n,itemNum:a});case 19:case"end":return r.stop()}},da,null,[[2,10]])}var fa=De.a.mark(ga);function ga(){return De.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Ue.a,t.next=3,Object(Ue.d)("LOGIN_FETCHING",Xe);case 3:return t.t1=t.sent,t.next=6,Object(Ue.d)("CARDS_PHOTOS_FETCHING",$e);case 6:return t.t2=t.sent,t.next=9,Object(Ue.d)("USER_STATISTIC_FETCHING",oa);case 9:return t.t3=t.sent,t.next=12,Object(Ue.d)("PHOTO_FETCHING",ia);case 12:return t.t4=t.sent,t.next=15,Object(Ue.d)("USER_FETCHING",pa);case 15:return t.t5=t.sent,t.next=18,Object(Ue.d)("SMALL_PHOTO_LISTING_FETCHING",ha);case 18:return t.t6=t.sent,t.t7=[t.t1,t.t2,t.t3,t.t4,t.t5,t.t6],t.next=22,(0,t.t0)(t.t7);case 22:case"end":return t.stop()}},fa)}a(462);var Ea=Object(c.a)(),_a=[Ea];var ba=Object(i.e)(we,Se,i.a.apply(void 0,_a));Ea.run(ga,[555]),Object(r.render)(n.a.createElement(s.a,{store:ba},n.a.createElement(Ie,null)),window.document.getElementById("root")),"serviceWorker"in window.navigator&&window.navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[221,1,2]]]);
//# sourceMappingURL=main.8482ac8a.chunk.js.map