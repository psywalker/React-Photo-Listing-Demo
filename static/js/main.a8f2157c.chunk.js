(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{241:function(e,t,a){e.exports=a(496)},260:function(e,t,a){},304:function(e,t,a){},305:function(e,t,a){},306:function(e,t,a){},318:function(e,t,a){},319:function(e,t,a){},320:function(e,t,a){},321:function(e,t,a){},322:function(e,t,a){},323:function(e,t,a){},331:function(e,t,a){},332:function(e,t,a){},447:function(e,t,a){},450:function(e,t,a){},451:function(e,t,a){},452:function(e,t,a){},453:function(e,t,a){},454:function(e,t,a){},455:function(e,t,a){},456:function(e,t,a){},457:function(e,t,a){},458:function(e,t,a){},460:function(e,t,a){},465:function(e,t,a){},473:function(e,t,a){},474:function(e,t,a){},475:function(e,t,a){},476:function(e,t,a){},495:function(e,t,a){},496:function(e,t,a){"use strict";a.r(t);var o=a(0),r=a.n(o),n=a(11),s=a(44),i=a(238),c=a(21);s.a.use(i.a).use(c.a).init({resources:{en:{translations:{profile:"Profile",login:"Login",logout:"Logout",goBack:"Go back",download:"Download",share:"Share",showAllTags:"Show all tags",allTags:"All tags",userAvatar:"User Avatar",profileAvatar:"Profile avatar",profileDesc:"Download free, beautiful high-quality photos curated by",changePhotoSize:"Change size",photoBy:"Photo by",photoOn:"on",search:{youSearched:"You searched",oneTime:"time",oneTimes:"times",placeholder:"Search free high-resolution photos"},lang:{title:"Choose language",ru:"Russian",en:"English"},userTabs:{myPhotos:"My photos",myLikes:"My Likes",myStatistic:"My statistic"},chartsConfig:{myDownloads:"My Downloads",myViews:"My Views",myLikes:"My Likes",seriesNameDownloads:"Downloads",seriesNameViews:"Views",seriesNameLikes:"Likes",yAxisTitle:"Values"},photoInfo:{info:"Info",published:"Published on",views:"Views",downloads:"Downloads",likes:"Likes",cameraMake:"Camera Make",cameraModel:"Camera Model",focalLength:"Focal Length",aperture:"Aperture",shutterSpeed:"Shutter Speed",iso:"ISO",dimensions:"Dimensions"},photoSizeNames:{thumb:"Thumb",small:"Small",regular:"Regular",raw:"Big",full:"Full"},errors:{oops:"OOPS",goBackHome:"BACK TO HOME",increasedNumberDownloads:"You have increased the number of downloads per hour. Try later.",errorLoadingPhotolisting:"Error loading photolisting",imagesNotFound:"No images were found for your request.",photoNotFound:"Sorry, no photo found",failedUserStatistics:"Failed to get user statistics. Try later again",userNotFound:"Sorry, user is not found",authorizationFailed:"An authorization failed. Try logging in later!"}}},ru:{translations:{profile:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c",login:"\u0412\u043e\u0439\u0442\u0438",logout:"\u0412\u044b\u0439\u0442\u0438",goBack:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043d\u0430\u0437\u0430\u0434",download:"\u0421\u043a\u0430\u0447\u0430\u0442\u044c",share:"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f",showAllTags:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0432\u0441\u0435 \u0442\u0435\u0433\u0438",allTags:"\u0412\u0441\u0435 \u0442\u0435\u0433\u0438",userAvatar:"\u0410\u0432\u0430\u0442\u0430\u0440\u043a\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",profileAvatar:"\u0410\u0432\u0430\u0442\u0430\u0440\u043a\u0430 \u043f\u0440\u043e\u0444\u0438\u043b\u044f",profileDesc:"\u0421\u043a\u0430\u0447\u0430\u0442\u044c \u0431\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u044b\u0435, \u043a\u0440\u0430\u0441\u0438\u0432\u044b\u0435, \u0432\u044b\u0441\u043e\u043a\u043e\u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0435 \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0438, \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u043c ",changePhotoSize:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0440\u0430\u0437\u043c\u0435\u0440",photoBy:"\u0424\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044f ",photoOn:"\u043d\u0430",search:{youSearched:"\u0412\u044b \u0438\u0441\u043a\u0430\u043b\u0438",oneTime:"\u0440\u0430\u0437",oneTimes:"\u0440\u0430\u0437\u0430",placeholder:"\u041f\u043e\u0438\u0441\u043a \u0431\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u044b\u0445 \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0439 \u0432 \u0432\u044b\u0441\u043e\u043a\u043e\u043c \u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u0438\u0438"},lang:{title:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u044f\u0437\u044b\u043a",ru:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",en:"\u0410\u043d\u0433\u043b\u0438\u0439\u0441\u043a\u0438\u0439"},userTabs:{myPhotos:"\u041c\u043e\u0438 \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0438",myLikes:"\u041c\u043e\u0438 \u043b\u0430\u0439\u043a\u0438",myStatistic:"\u041c\u043e\u044f \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430"},chartsConfig:{myDownloads:"\u041c\u043e\u0438 \u0441\u043a\u0430\u0447\u0438\u0432\u0430\u043d\u0438\u044f",myViews:"\u041c\u043e\u0438 \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u044b",myLikes:"\u041c\u043e\u0438 \u043b\u0430\u0439\u043a\u0438",seriesNameDownloads:"\u0421\u043a\u0430\u0447\u0438\u0432\u0430\u043d\u0438\u044f",seriesNameViews:"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u044b",seriesNameLikes:"\u041b\u0430\u0439\u043a\u0438",yAxisTitle:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"},photoInfo:{info:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0444\u043e\u0442\u043e",published:"\u041e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u043d\u043e",views:"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u044b",downloads:"\u0421\u043a\u0430\u0447\u0438\u0432\u0430\u043d\u0438\u044f",likes:"\u041b\u0430\u0439\u043a\u0438",cameraMake:"\u041a\u043e\u043c\u043f\u0430\u043d\u0438\u044f",cameraModel:"\u041c\u043e\u0434\u0435\u043b\u044c \u043a\u0430\u043c\u0435\u0440\u044b",focalLength:"\u0424\u043e\u043a\u0443\u0441\u043d\u043e\u0435 \u0440\u0430\u0441\u0441\u0442\u043e\u044f\u043d\u0438\u0435",aperture:"\u0410\u043f\u0435\u0440\u0442\u0443\u0440\u0430",shutterSpeed:"\u0421\u043a\u043e\u0440\u043e\u0441\u0442\u044c \u0437\u0430\u0442\u0432\u043e\u0440\u0430",iso:"ISO",dimensions:"\u0420\u0430\u0437\u043c\u0435\u0440\u044b"},photoSizeNames:{thumb:"\u041a\u0440\u043e\u0448\u0435\u0447\u043d\u044b\u0439",small:"\u041c\u0430\u043b\u044b\u0439",regular:"\u0421\u0440\u0435\u0434\u043d\u0438\u0439",raw:"\u0411\u043e\u043b\u044c\u0448\u043e\u0439",full:"\u041e\u0433\u0440\u043e\u043c\u043d\u044b\u0439"},errors:{oops:"\u0423\u043f\u0441",goBackHome:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e",increasedNumberDownloads:"\u0412\u044b \u043f\u0440\u0438\u0432\u044b\u0441\u0438\u043b\u0438 \u0447\u0438\u0441\u043b\u043e \u0441\u043a\u0430\u0447\u0438\u0432\u0430\u043d\u0438\u0439 \u0437\u0430 \u0447\u0430\u0441. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0437\u0436\u0435.",errorLoadingPhotolisting:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0444\u043e\u0442\u043e\u043b\u0438\u0441\u0442\u0438\u043d\u0433\u0430",imagesNotFound:"\u041f\u043e \u044d\u0442\u043e\u043c\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u0443 \u043a\u0430\u0440\u0442\u0438\u043d\u043e\u043a \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e.",photoNotFound:"\u0418\u0437\u0432\u0438\u043d\u0438\u0442\u0435, \u0444\u043e\u0442\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e",failedUserStatistics:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0443 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0437\u0436\u0435.",userNotFound:"\u0418\u0437\u0432\u0438\u043d\u0438\u0442\u0435, \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d",authorizationFailed:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f \u043d\u0435 \u043f\u0440\u043e\u0448\u043b\u0430"}}}},detection:{order:["htmlTag","querystring","cookie","localStorage","navigator","path","subdomain"]},fallbackLng:"ru",debug:!0,ns:["translations"],defaultNS:"translations",keySeparation:!0});var l=s.a,u=a(24),p=a(54),d=(a(258),a(237)),h=a(82),m=a(166),f=a(214),g=a(116),E=a(507),b=a(15),v=a(65),_=a(215),O=(a(260),Object(_.a)(function(e){var t=e.history,a=e.lastLocation;if(!a)return!1;var o=Object(c.b)().t;return r.a.createElement(v.a,{"data-test":"btnBack",className:"btn-back",type:"default",onClick:function(){t.push(a.pathname)}},r.a.createElement(b.a,{type:"left"}),o("goBack"))})),N=Object(h.withLastLocation)(O),S=a(9),I=a(93),T="wallpapers",L={profilePhotoUrl:"",profileFullName:"",profileName:"",profileEmail:"",fetching:!1,loginError:!1,token:""},y="".concat("https://api.unsplash.com","/me"),w="https://unsplash.com/oauth/token",P="".concat("/React-Photo-Listing-Demo","/ava-placeholder.jpg"),C="".concat("/React-Photo-Listing-Demo","/error-image.jpg"),x="".concat("/React-Photo-Listing-Demo","/logo.svg"),k="".concat("/React-Photo-Listing-Demo","/ru.png"),j="".concat("/React-Photo-Listing-Demo","/en.png"),R=("".concat("/React-Photo-Listing-Demo","/ava-empty-login.svg"),"".concat("/React-Photo-Listing-Demo","/login.svg"),"".concat("/React-Photo-Listing-Demo","/logout.svg"),"https://unsplash.com/oauth/authorize?redirect_uri=".concat("https://psywalker.github.io/React-Photo-Listing-Demo/profile","&response_type=code&scope=public+read_user+write_user+read_photos+write_likes+write_photos+write_followers+read_collections+write_collections&client_id=").concat("bba0e5effd29d1c0d0957b57759a6b65f34fe4fece1188a73a4dcee69b53d3a5")),A=function(e){return"".concat("https://api.unsplash.com/","photos/").concat(e.params.id,"?client_id=").concat("bba0e5effd29d1c0d0957b57759a6b65f34fe4fece1188a73a4dcee69b53d3a5")},D=function(e){return"".concat("https://api.unsplash.com/","users/").concat(e.params.id,"?client_id=").concat("bba0e5effd29d1c0d0957b57759a6b65f34fe4fece1188a73a4dcee69b53d3a5")},U=function(e){return"".concat("https://api.unsplash.com/","users/").concat(e,"/statistics")},F=function(e){return"".concat("https://api.unsplash.com/","photos/").concat(e,"/like")},H={legend:{layout:"vertical",align:"right",verticalAlign:"middle"},responsive:{rules:[{condition:{maxWidth:700},chartOptions:{legend:{layout:"horizontal",align:"center",verticalAlign:"bottom"}}}]}},V=(a(304),Object(o.memo)(function(){return r.a.createElement("div",{"data-test":"Logo",className:"logo"},r.a.createElement(I.a,{"data-test":"siteLogoLinkRouter",to:{pathname:"/",state:{flag:!0}}},r.a.createElement("img",{className:"logo__img",src:x,alt:"Images-Listing"})))})),q=a(41),M=a(502),z=a(503),B=a(498),G=a(1),Q=a.n(G),W=(a(305),Object(o.memo)(function(e){var t=e.profilePhotoUrl,a=e.profileFullName;return r.a.createElement("div",{className:"user-avatar"},r.a.createElement("div",{className:"user-avatar__name"},a),r.a.createElement("img",{"data-test":"UserAvatar",className:"user-avatar__img",alt:"",src:"".concat(t)}))}));W.propTypes={profilePhotoUrl:Q.a.string,profileFullName:Q.a.string},W.defaultProps={profilePhotoUrl:"",profileFullName:""};var K=W,Y=function(e,t,a){t.forEach(function(t){a.forEach(function(a){return window[e](t,a)})})},J=(a(306),Object(o.memo)(function(e){var t=e.profileName,a=e.profilePhotoUrl,n=e.handleLoguotHeader,s=e.profileFullName,i=Object(c.b)().t,l=Object(o.useState)(!1),u=Object(q.a)(l,2),p=u[0],d=u[1],h=function(){d(!1)};Object(o.useEffect)(function(){return Y("addEventListener",["scroll","resize"],[h]),function(){Y("removeEventListener",["scroll","resize"],[h])}});var m=function(e,t,a,o,n){return r.a.createElement("div",null,r.a.createElement(v.a,{"data-test":o,className:e,href:t,onClick:a},n))},E=r.a.createElement(f.a,null,r.a.createElement(g.a,{exact:!0,path:"/profile",component:function(){return r.a.createElement(M.b,{onClick:h},r.a.createElement(M.b.Item,{key:"0"},m("btn-logout",null,n,"btnLogout",i("logout"))))}}),r.a.createElement(g.a,{component:function(){return r.a.createElement(M.b,{onClick:h},r.a.createElement(M.b.Item,{key:"1"},r.a.createElement(I.a,{"data-test":"linkProfileName",to:"/profile"},i("profile"))),r.a.createElement(M.b.Divider,null),r.a.createElement(M.b.Item,{key:"2"},m("btn-logout",null,n,"btnLogout",i("logout"))))}}),")"),b=r.a.createElement(M.b,{onClick:h},r.a.createElement(M.b.Item,{key:"3"},m("btn-login",R,null,"btnLogin",i("login")))),_=t?E:b;return r.a.createElement("div",{"data-test":"Dropdown",className:"dropdown"},r.a.createElement(z.a,{overlay:_,trigger:["click"],visible:p,onVisibleChange:function(e){d(e)}},r.a.createElement("div",{className:"dropdown__inner"},!t&&r.a.createElement(B.a,{icon:"user"}),t&&r.a.createElement(K,{profilePhotoUrl:a,profileFullName:s}))))}));J.defaultProps={profilePhotoUrl:"",profileName:"",profileFullName:"",handleLoguotHeader:function(){}};var X=J,Z=a(64),$=function(){return{type:"LOGOUT"}},ee=function(e,t){return{type:"FILTER_ITEM_VALUE",itemText:e,itemId:t}},te=function(e,t){return{type:"SEARCH_TEXT",tags:t,text:e}},ae=function(e){return{type:"SEARCH_TEXT_CHANGE_INPUT_VALUE",text:e}},oe=(a(318),Z.a.Option),re=Object(o.memo)(function(){var e=Object(o.useState)(!1),t=Object(q.a)(e,2),a=t[0],n=t[1],i=Object(u.c)(),c=Object(u.d)(function(e){return e.lang}),l=function(){n(!1)};return Object(o.useEffect)(function(){return Y("addEventListener",["scroll","resize"],[l]),function(){Y("removeEventListener",["scroll","resize"],[l])}},[]),r.a.createElement("div",{"data-test":"selectLanguage",className:"language"},r.a.createElement(Z.a,{defaultValue:c,onChange:function(e){s.a.changeLanguage(e),i({type:"LANG",lang:e}),window.localStorage.setItem("lang",e)},open:a,onDropdownVisibleChange:function(e){n(e)}},r.a.createElement(oe,{value:"ru"},r.a.createElement("img",{className:"language__img",src:k,alt:"Ru"})),r.a.createElement(oe,{value:"en"},r.a.createElement("img",{className:"language__img",src:j,alt:"En"}))))}),ne=a(72),se=a(35),ie=a(36),ce=a(38),le=a(37),ue=a(39),pe=a(506),de=a(236),he=function(e){return[l.t("search.oneTime"),l.t("search.oneTimes"),l.t("search.oneTime")][e%100>4&&e%100<20?2:[2,0,1,1,1,2][e%10<5?e%10:5]]},me=function(e,t){return new URL(e).searchParams.get(t)},fe=(a(319),pe.a.Option),ge=function(e){function t(){var e,a;Object(se.a)(this,t);for(var o=arguments.length,n=new Array(o),s=0;s<o;s++)n[s]=arguments[s];(a=Object(ce.a)(this,(e=Object(le.a)(t)).call.apply(e,[this].concat(n)))).componentDidMount=function(){var e=JSON.parse(window.localStorage.getItem("searchOptions"))||[];a.setState({options:e}),Y("addEventListener",["scroll","resize"],[a.handleScroll])},a.componentDidUpdate=function(e,t){var o=a.props.queryText,r=a.state,n=r.options,s=r.inputValue;if(t.inputValue!==s||e.queryText!==o){var i=me(window.location,"search");i&&"undefined"!==i||-1===window.location.href.indexOf("?search")||(i=""),i&&"undefined"!==i||-1!==window.location.href.indexOf("?search")||(i=T,a.searchInput.focus()),a.setState({inputValue:i})}JSON.stringify(t.options)!==JSON.stringify(n)&&(window.localStorage.setItem("searchOptions",JSON.stringify(n)),a.setState({isSelectOpen:!1}))},a.componentWillUnmount=function(){Y("removeEventListener",["scroll","resize"],[a.handleScroll])},a.handleUrl=function(e){var t=a.props.history,o="?search=".concat("undefined"===e||void 0===e?"":e);t.push(o,{})},a.handleScroll=function(){a.setState({isSelectOpen:!1})},a.renderOption=function(e){var t=a.props.t;return r.a.createElement(fe,{key:e.query,text:e.query},r.a.createElement("div",{className:"global-search-item"},r.a.createElement("span",{className:"global-search-item-desc"},t("search.youSearched")," ",r.a.createElement("b",null,"\xab",e.query,"\xbb")),r.a.createElement("span",{className:"global-search-item-count"}," ",e.count," ",he(e.count))))},a.handleKeyDown=function(e){var t=a.props.onSearchInputValue,o=(e.target||e).value;return a.setState({isSelectOpen:!!o}),a.searchResult(o),!e.target&&e?(a.increaseCount(e),t(e)):13===e.keyCode&&o&&(a.increaseCount(o),a.createNewOption(o),a.setState({isSelectOpen:!1}),t(o)),!1},a.handleButton=function(e){e.stopPropagation(),e.target.blur();var t=a.props.onSearchInputValue,o=a.state.inputValue;o&&(a.increaseCount(o),a.createNewOption(o),t(o))},a.handleInputChange=function(e){a.setState({isSelectOpen:!!e,inputValue:e}),a.handleUrl(e)},a.searchResult=function(e){if(e){var t=a.state.options.filter(function(t){return t.query.startsWith(e)}).sort(function(e,t){return t.count-e.count});a.setState({dataSource:t})}},a.handleInputBlur=function(){a.setState({isSelectOpen:!1})},a.handleInputFocus=function(){var e=a.state.inputValue;a.searchResult(e),a.setState({isSelectOpen:!0})},a.createNewOption=function(e){var t=a.state.options;t.some(function(t){return t.query===e})||a.setState({options:[].concat(Object(ne.a)(t),[{query:e,count:1}])})},a.increaseCount=function(e){var t=a.state.options.map(function(t){return t.query===e?Object(S.a)({},t,{count:t.count+1}):t});return a.setState({options:t})};var i=a.props.queryText.value;return a.state={inputValue:i,isSelectOpen:!1,dataSource:[],options:[]},a.searchInput=null,a}return Object(ue.a)(t,e),Object(ie.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.inputValue,o=t.dataSource,n=t.isSelectOpen,s=this.props.t;return r.a.createElement("div",{"data-test":"searchContainer",className:"search"},r.a.createElement(pe.a,{className:"global-search",style:{width:"100%"},dataSource:o.map(this.renderOption),open:n,onBlur:this.handleInputBlur,onSelect:this.handleKeyDown,onSearch:this.searchResult,onChange:this.handleInputChange,defaultActiveFirstOption:!1,placeholder:s("search.placeholder"),optionLabelProp:"text",value:a,defaultOpen:!1,backfill:!0,allowClear:!0,autoFocus:!0},r.a.createElement(de.a,{onKeyDown:this.handleKeyDown,onClick:this.handleInputFocus,value:a,ref:function(t){e.searchInput=t},suffix:r.a.createElement(v.a,{className:"search-btn",style:{marginRight:-12},onClick:this.handleButton},r.a.createElement(b.a,{type:"search"}))})))}}]),t}(o.PureComponent);ge.defaultProps={queryText:{},onSearchInputValue:function(){},t:function(){},history:{}};var Ee=Object(c.c)()(ge),be=a(504),ve=(a(320),Object(o.memo)(function(e){var t=e.navTopItemActive,a=e.onFilterItemValue,o=e.filters;return r.a.createElement("ul",{className:"nav-top","data-test":"navTop"},o.map(function(e){return r.a.createElement("li",{key:e.id,"data-test":"navTopItem",className:"nav-top__item ".concat(e.border?"nav-top__item_border-right":"")},r.a.createElement(be.a,{"data-test":"navTopItemTag",color:"".concat(e.id===t?"purple":""),onClick:function(){e.id!==t&&a(e.filterValue,e.id)}},e.label))}))}));ve.propTypes={filters:Q.a.arrayOf(Q.a.shape({id:Q.a.number,label:Q.a.string,filterValue:Q.a.string})),onFilterItemValue:Q.a.func,navTopItemActive:Q.a.number},ve.defaultProps={filters:[],navTopItemActive:0,onFilterItemValue:function(){}};var _e=ve,Oe=(a(321),Object(_.a)(Object(o.memo)(function(e){var t=e.history,a=e.profileName,o=e.profilePhotoUrl,n=e.profileFullName,s=e.logoutAction,i=e.searchTextAction,c=e.filterItemValueAction,l=e.filters,u=function(e){var a="?search=".concat(e);t.push(a,{})},p=function(e,t){i(e,t),u(e)},d=function(e,t){c(e,t),u(e)},h=function(){var e=me(window.location,"search"),t=e||-1===window.location.href.indexOf("?search")?2:null;if(e){var a=l.filter(function(t){return t.label.toLowerCase()===e.toLowerCase()});t=a.length?a[0].id:null}return{queryText:{value:""},navTopItemActive:t}}();return r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"header__inner"},r.a.createElement("div",{className:"header__item"},r.a.createElement("div",{className:"header__logo"},r.a.createElement(V,null),r.a.createElement(g.a,{"data-test":"btnBackRoute",path:"/:id",component:function(){return r.a.createElement(N,{"data-test":"btnBack",style:{marginLeft:"10px"}})}})),r.a.createElement(g.a,{exact:!0,path:"/",render:function(){return r.a.createElement(Ee,{"data-test":"search",onSearchInputValue:p,queryText:h.queryText,history:t})}}),r.a.createElement(re,null),r.a.createElement(X,{profileName:a,profileFullName:n,profilePhotoUrl:o,handleLoguotHeader:function(){s(),window.localStorage.removeItem("token"),window.localStorage.removeItem("loginData"),t.push("/")}})),r.a.createElement(g.a,{exact:!0,path:"/",component:function(){return r.a.createElement("div",{className:"header__item"},r.a.createElement(_e,{"data-test":"navTop",navTopItemActive:h.navTopItemActive,onFilterItemValue:d,filters:l}))}})))})));Oe.defaultProps={history:{},logoutAction:function(){},profilePhotoUrl:"",profileName:"",profileEmail:"",fetching:!1};var Ne={loginSuccess:function(e){return{type:"LOGIN_SUCCESS",dataForProps:e}},logoutAction:$,searchTextAction:te,searchChangeInputValueAction:ae,filterItemValueAction:ee},Se=Object(h.withLastLocation)(Object(u.b)(function(e){var t=e.login,a=e.photolisting;return Object(S.a)({},t,a)},Ne)(Oe)),Ie=(a(322),Object(o.memo)(function(){return r.a.createElement("div",{"data-test":"spinnerContainer",className:"site-spinner"},r.a.createElement("div",{"data-test":"spinnerInner",className:"lds-ring"},r.a.createElement("div",{"data-test":"spinnerInnerItem"},"\xa0"),r.a.createElement("div",{"data-test":"spinnerInnerItem"},"\xa0"),r.a.createElement("div",{"data-test":"spinnerInnerItem"},"\xa0"),r.a.createElement("div",{"data-test":"spinnerInnerItem"},"\xa0")))})),Te=(a(323),Object(o.memo)(function(){return r.a.createElement("div",{"data-test":"spinnerPhotoContainer",className:"spinner-photo"},r.a.createElement("div",{"data-test":"spinnerPhotoInner",className:"lds-ring"},r.a.createElement("div",{"data-test":"spinnerPhotoInnerItem"},"\xa0"),r.a.createElement("div",{"data-test":"spinnerPhotoInnerItem"},"\xa0"),r.a.createElement("div",{"data-test":"spinnerPhotoInnerItem"},"\xa0"),r.a.createElement("div",{"data-test":"spinnerPhotoInnerItem"},"\xa0")))})),Le=a(228),ye=a(229),we=a.n(ye),Pe=a(499),Ce=a(123),xe=a(124),ke=a(48),je=a.n(ke),Re=(a(181),a(128)),Ae=a.n(Re),De=Object(o.memo)(function(e){var t=e.lastUpdateInfo,a=e.photoDesc,o=e.views,n=e.downloads,i=e.likes,l=e.cameraMake,u=e.focalLength,p=e.aperture,d=e.shutterspeed,h=e.iso,m=e.cameraModel,f=e.width,g=e.height,E=Object(c.b)().t,v=function(e,t){return je()(e).locale(t?"ru":"en",t?Ce.localization:xe.localization).format("LL")}(t,s.a.language.includes("ru")),_=function(e){return Ae()(e).format("0,0")}(o),O=function(e){return Ae()(e).format("0,0")}(n),N=function(e){return Ae()(e).format("0,0")}(i),S=r.a.createElement("header",{"data-test":"photoInfoHeader",className:"photo-info__header"},r.a.createElement("h2",{"data-test":"photoInfoTitle",className:"photo-info__title"},E("photoInfo.info")),a&&r.a.createElement("p",{className:"photo-info__desc"},r.a.createElement("i",null,r.a.createElement("b",{"data-test":"photoInfoDesc"},a))),r.a.createElement("p",{"data-test":"photoInfoDate",className:"photo-info__date"},E("photoInfo.published")," ",v)),I=r.a.createElement("div",{"data-test":"photoInfoContent",className:"photo-info__content"},r.a.createElement("ul",{"data-test":"photoInfoListHead",className:"photo-info__list-head photo-info-list-head"},r.a.createElement("li",{"data-test":"photoInfoListHeadItem",className:"photo-info-list-head__item"},r.a.createElement("h3",{"data-test":"photoInfoListHeadTitle",className:"photo-info-list-head__title"},r.a.createElement(b.a,{type:"eye"})," ",E("photoInfo.views")),r.a.createElement("p",{"data-test":"photoInfoListHeadTextMain",className:"photo-info-list-head__text-main"},_),r.a.createElement("p",{"data-test":"photoInfoListHeadText",className:"photo-info-list-head__text"},"")),r.a.createElement("li",{"data-test":"photoInfoListHeadItem",className:"photo-info-list-head__item"},r.a.createElement("h3",{"data-test":"photoInfoListHeadTitle",className:"photo-info-list-head__title"},r.a.createElement(b.a,{type:"arrow-down"})," ",E("photoInfo.downloads")),r.a.createElement("p",{"data-test":"photoInfoListHeadTextMain",className:"photo-info-list-head__text-main"},O),r.a.createElement("p",{"data-test":"photoInfoListHeadText",className:"photo-info-list-head__text"},"")),r.a.createElement("li",{"data-test":"photoInfoListHeadItem",className:"photo-info-list-head__item"},r.a.createElement("h3",{"data-test":"photoInfoListHeadTitle",className:"photo-info-list-head__title"},r.a.createElement(b.a,{type:"heart"})," ",E("photoInfo.likes")),r.a.createElement("p",{"data-test":"photoInfoListHeadTextMain",className:"photo-info-list-head__text-main"},N),r.a.createElement("p",{"data-test":"photoInfoListHeadText",className:"photo-info-list-head__text"},""))),r.a.createElement(Pe.a,null),r.a.createElement("ul",{"data-test":"photoInfoListContent",className:"photo-info-list photo-info__list-content"},r.a.createElement("li",{"data-test":"photoInfoListItem",className:"photo-info-list__item"},r.a.createElement("h3",{"data-test":"photoInfoListTitle",className:"photo-info-list__title"},E("photoInfo.cameraMake")),r.a.createElement("p",{"data-test":"photoInfoListText",className:"photo-info-list__text"},l||"--")),r.a.createElement("li",{"data-test":"photoInfoListItem",className:"photo-info-list__item"},r.a.createElement("h3",{"data-test":"photoInfoListTitle",className:"photo-info-list__title"},E("photoInfo.cameraModel")),r.a.createElement("p",{"data-test":"photoInfoListText",className:"photo-info-list__text"},m||"--")),r.a.createElement("li",{"data-test":"photoInfoListItem",className:"photo-info-list__item"},r.a.createElement("h3",{"data-test":"photoInfoListTitle",className:"photo-info-list__title photo-info-list__title_type_focal"},E("photoInfo.focalLength")),r.a.createElement("p",{"data-test":"photoInfoListText",className:"photo-info-list__text"},u||"--")),r.a.createElement("li",{"data-test":"photoInfoListItem",className:"photo-info-list__item"},r.a.createElement("h3",{"data-test":"photoInfoListTitle",className:"photo-info-list__title"},E("photoInfo.aperture")),r.a.createElement("p",{"data-test":"photoInfoListText",className:"photo-info-list__text"},p||"--")),r.a.createElement("li",{"data-test":"photoInfoListItem",className:"photo-info-list__item"},r.a.createElement("h3",{"data-test":"photoInfoListTitle",className:"photo-info-list__title"},E("photoInfo.shutterSpeed")),r.a.createElement("p",{"data-test":"photoInfoListText",className:"photo-info-list__text"},d||"--")),r.a.createElement("li",{"data-test":"photoInfoListItem",className:"photo-info-list__item"},r.a.createElement("h3",{"data-test":"photoInfoListTitle",className:"photo-info-list__title"},E("photoInfo.iso")),r.a.createElement("p",{"data-test":"photoInfoListText",className:"photo-info-list__text"},h||"--")),r.a.createElement("li",{"data-test":"photoInfoListItem",className:"photo-info-list__item"},r.a.createElement("h3",{"data-test":"photoInfoListTitle",className:"photo-info-list__title"},E("photoInfo.dimensions")),r.a.createElement("p",{"data-test":"photoInfoListText",className:"photo-info-list__text"},f&&g?"".concat(f," x ").concat(g):"--"))));return r.a.createElement("div",{"data-test":"photoInfo",className:"photo-info"},S,I)});De.defaultProps={lastUpdateInfo:"",photoDesc:"",views:0,downloads:0,likes:0,cameraMake:"",focalLength:"",aperture:"",shutterspeed:"",iso:0,cameraModel:"",width:0,height:0};var Ue=De,Fe=(a(331),Object(o.memo)(function(e){var t=Object(Le.a)({},e),a=Object(c.b)().t,n=Object(o.useState)(!1),s=Object(q.a)(n,2),i=s[0],l=s[1];return r.a.createElement("div",{"data-test":"photoInfoWrap",className:"photo-info-wrap"},r.a.createElement(v.a,{"data-test":"openModalBtn",style:{marginLeft:"10px"},onClick:function(){return l(!0)},className:"openModalBtn"},r.a.createElement(b.a,{"data-test":"openModalBtnIcon",type:"info-circle"}),r.a.createElement("span",{className:"openModalBtn__text"},a("photoInfo.views"))),r.a.createElement(we.a,{"data-test":"modal",visible:i,effect:"fadeInDown",onClickAway:function(){return l(!1)},className:"modal"},r.a.createElement(Ue,t)))})),He=(a(332),Object(o.memo)(function(e){var t=e.text,a=e.smallErrorFlag;return r.a.createElement("div",{"data-test":"error",className:"".concat(a?"error error_small-list":"error ")},r.a.createElement("div",{"data-test":"errorContent",className:"error__content"},r.a.createElement("div",{"data-test":"errorContentInner",className:"error__content-inner"},r.a.createElement("h3",{"data-test":"errorTitle",className:"error__title"},l.t("errors.oops")),r.a.createElement("h2",{"data-test":"erroSubtitle",className:"error__subtitle"},t)," ",r.a.createElement(I.a,{to:"/","data-test":"errorLinkRouter"},r.a.createElement(v.a,{"data-test":"errorButton",style:{marginLeft:"10px"}},l.t("errors.goBackHome"))))),r.a.createElement("img",{"data-test":"errorBgImg",alt:t,src:"".concat(C),className:"error__bg"}))}));He.propTypes={text:Q.a.string,smallErrorFlag:Q.a.bool},He.defaultProps={text:"",smallErrorFlag:!1};var Ve=He,qe=a(230),Me=a.n(qe),ze=function(e){return t=e,[{title:l.t("chartsConfig.myDownloads"),seriesName:l.t("chartsConfig.seriesNameDownloads"),colors:"rgba(255, 0, 255, .5)"},{title:l.t("chartsConfig.myViews"),seriesName:l.t("chartsConfig.seriesNameViews"),colors:"rgba(255, 165, 0, .5)"},{title:l.t("chartsConfig.myLikes"),seriesName:l.t("chartsConfig.seriesNameLikes"),colors:"rgba(0, 255, 0, .5)"}][t];var t},Be=function(e){var t=e.config,a=e.configNum,o=s.a.language.includes("ru"),n=function(e,t){return Object(S.a)({chart:{type:"area"},colors:[e.colors],title:{text:e.title},xAxis:{categories:t.dates},yAxis:{title:{text:l.t("chartsConfig.yAxisTitle")}},plotOptions:{area:{stacking:"normal",lineColor:e.colors,lineWidth:1,marker:{lineWidth:6,lineColor:e.colors}}},series:[{name:e.seriesName,data:t.values}]},H)}(ze(a),t),i=n.xAxis.categories;return n.xAxis.categories=i.map(function(e){return je()(new Date(e)).locale(o?"ru":"en",o?Ce.localization:xe.localization).format("DD MMMM YYYY")}),r.a.createElement(Me.a,{"data-test":"highchartsContainer",config:n})};Be.defaultProps={config:{},configNum:0};var Ge=Be,Qe=a(125),We=a.n(Qe),Ke=a(501),Ye=(a(447),function(e){function t(){var e,a;Object(se.a)(this,t);for(var o=arguments.length,r=new Array(o),n=0;n<o;n++)r[n]=arguments[n];return(a=Object(ce.a)(this,(e=Object(le.a)(t)).call.apply(e,[this].concat(r)))).componentDidMount=function(){var e=a.props,t=e.userId,o=e.page,r=e.perPage,n=e.name,s=e.itemNum;(0,e.smallPhotoListingRequestAction)(t,o,r,n,s)},a.handlePaginationChange=function(e){var t=a.props,o=t.userId,r=t.perPage;(0,t.smallPhotoListingRequestAction)(o,e,r,t.name,t.itemNum)},a}return Object(ue.a)(t,e),Object(ie.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isSmallPhotoListingFetching,a=e.totalCards,o=e.page,n=e.perPage,s=e.cards,i=e.requestError,c=s.map(function(e){return r.a.createElement("li",{"data-test":"smallPhotoListingListItem",className:"small-photo-listing-list__item",key:e.photoID},r.a.createElement(I.a,{"data-test":"smallPhotoListingListLinkPhotoRouter",className:"small-photo-listing-list__link-photo",to:"/photo/".concat(e.photoID)},r.a.createElement("img",{"data-test":"smallPhotoListingListPhoto",className:"small-photo-listing-list__photo",alt:"example",src:e.photoUrl})))});return r.a.createElement("div",{"data-test":"smallPhotoListingContainer",className:"small-photo-listing-container"},t&&r.a.createElement(Ie,{"data-test":"spinner"}),!t&&!i&&r.a.createElement("div",{"data-test":"smallPhotoListing",className:"small-photo-listing"},r.a.createElement(We.a,{"data-test":"smallPhotoListingList",className:"small-photo-listing-list",elementType:"ul",disableImagesLoaded:!1,updateOnEachImageLoad:!1},c),r.a.createElement("div",{"data-test":"paginationContainer",className:"small-photo-listing__pagination"},a>n&&r.a.createElement(Ke.a,{"data-test":"pagination",className:"ml-3 mb-5",onChange:this.handlePaginationChange,hideOnSinglePage:!0,current:o,defaultCurrent:1,total:a,pageSize:6}))),!t&&i&&r.a.createElement(Ve,{"data-test":"error",smallErrorFlag:!0,text:"Sorry, an error occurred during the request. Try again later."}))}}]),t}(o.PureComponent));Ye.defaultProps={isSmallPhotoListingFetching:!0,cards:[],itemNum:0,totalCards:10,page:1,perPage:6,name:"photos",smallPhotoListingRequestAction:function(){},requestError:!1,history:{},userId:""};var Je={smallPhotoListingRequestAction:function(e,t,a,o,r){return{type:"SMALL_PHOTO_LISTING_FETCHING",isSmalPhotoListingFetching:!0,userId:e,page:t,perPage:a,name:o,itemNum:r}}},Xe=Object(u.b)(function(e,t){return e.smallphotolisting[t.itemNum]},Je)(Ye),Ze=Object(o.memo)(function(e){var t=e.handleMethod;return e.tags.map(function(e){return r.a.createElement(be.a,{key:e.title,onClick:function(){return t(e.title,"tags")},className:"tag","data-test":"tag"},e.title)})});Ze.propTypes={handleMethod:Q.a.func,tags:Q.a.arrayOf(Q.a.object)},Ze.defaultProps={handleMethod:function(){},tags:[]};var $e=Ze,et=a(231),tt=a.n(et),at=a(163),ot=(a(450),Object(o.memo)(function(e){var t=e.photoID,a=e.photoAltDesc,o=e.photoName;return r.a.createElement("div",{className:"photo-card-list__img photo-card-img"},r.a.createElement(I.a,{"data-test":"photoCardPhotoLink",to:"/photo/".concat(t),className:"photo-card-img__link"},r.a.createElement("img",{"data-test":"photoCardImg",className:"photo-card-img__photo",alt:a,src:o})))}));ot.propTypes={photoID:Q.a.string,photoAltDesc:Q.a.string,photoName:Q.a.string},ot.defaultProps={photoID:"",photoAltDesc:"",photoName:""};var rt=ot,nt=a(500),st=(a(451),Object(o.memo)(function(e){var t=e.onSearchTagValue,a=e.tags,o=function(e){return e.length<4?e:e.slice(0,3)}(a),n=function(e){return e.length>3&&e.slice(3)}(a);return r.a.createElement("div",{className:"photo-card-list__tags photo-card-tags","data-test":"photoCardTags"},r.a.createElement($e,{"data-test":"photoCardTagMainContainer",handleMethod:t,tags:o}),n&&r.a.createElement(nt.a,{"data-test":"photoCardPopover",placement:"top",title:"Remaining tags",content:r.a.createElement($e,{"data-test":"photoCardTagPopup",handleMethod:t,tags:n}),trigger:"click"},r.a.createElement(be.a,{"data-test":"photoCardTagMore",className:"photo-card-tags__tag"},"more tags...")))}));st.defaultProps={onSearchTagValue:function(){},tags:[],photoUrlSizes:[]};var it=st,ct=(a(452),Object(o.memo)(function(e){var t=e.userID,a=e.userAvatar,o=e.title;return r.a.createElement("div",{"data-test":"photoCardAutor",className:"photo-card-list__autor photo-card-autor"},r.a.createElement(I.a,{"data-test":"photoCardAutorLink",className:"photo-card-autor__link",to:"/users/".concat(t)},r.a.createElement("img",{"data-test":"photoCardAutorAvatar",className:"photo-card-autor__avatar",alt:t,src:a}),r.a.createElement("span",{"data-test":"photoCardAutorName",className:"photo-card-autor__name"},o)))}));ct.propTypes={userID:Q.a.string,userAvatar:Q.a.string,title:Q.a.string},ct.defaultProps={userID:"",userAvatar:"",title:""};var lt=ct,ut=(a(453),Object(o.memo)(function(e){var t=e.photoID,a=Object(o.useState)(!1),n=Object(q.a)(a,2),s=n[0],i=n[1],c=Object(u.c)();window.localStorage.getItem(t)&&!s&&i(!0);var l=function(e,t,a,o){return r.a.createElement(v.a,{"data-test":"likesButton",className:"likes-button__btn",onClick:function(){i(e),t()},style:{backgroundColor:a}},r.a.createElement(b.a,{className:"likes-button__icon",type:"heart",theme:"filled",style:{color:o}}))};return r.a.createElement("div",{"data-test":"likesButtonContainer",className:"likes-button"},s&&l(!1,function(){c({type:"PHOTO_UNLIKE",photoId:t}),window.localStorage.removeItem(t)},"red","#fff"),!s&&l(!0,function(){c({type:"PHOTO_LIKE",photoId:t}),window.localStorage.setItem(t,!0)},"#fff","red"))}));ut.defaultProps={photoID:""};var pt=ut,dt=a(232),ht=function(){var e="image.jpg";if(arguments.length)for(var t=0;t<arguments.length;t+=1){var a=t<0||arguments.length<=t?void 0:arguments[t];if(a){e=a[0].toUpperCase()+a.slice(1).replace(/\s/g,"-");break}}return e},mt=(a(454),Object(o.memo)(function(e){var t=e.photoUrlSizes,a=e.userID,n=e.title,s=e.altDescriprion,i=e.photoDesc,l=e.placement,u=e.children,p=e.handleVisibleButtonChangeFalse,d=Object(o.useState)(!1),h=Object(q.a)(d,2),m=h[0],f=h[1],g=Object(c.b)().t,E=function(){f(!1)};return Object(o.useEffect)(function(){return Y("addEventListener",["scroll","resize"],[E,p]),function(){Y("removeEventListener",["scroll","resize"],[E,p])}}),r.a.createElement(nt.a,{overlayClassName:"download-button__popover download-button-popover","data-test":"photoCardPopover",placement:l,title:g("changePhotoSize"),visible:m,onVisibleChange:function(e){f(e),e||p()},content:r.a.createElement("div",{className:"download-button__popup download-sizes"},t.map(function(e){return r.a.createElement(v.a,{key:e.value,className:"download-sizes__btn",size:"small",onClick:function(){!function(e){var t=ht(s,i);Object(dt.saveAs)(e,t)}(e.url),E(),p()}},g(e.value))}),r.a.createElement(Pe.a,{style:{margin:"5px 0"}}),r.a.createElement("div",{className:"download-sizes__footer credit"},g("photoBy")," ",r.a.createElement("a",{href:"https://unsplash.com/@".concat(a,"?utm_medium=referral&amp;utm_campaign=photographer-credit&amp;utm_content=creditBadge"),target:"_blank",rel:"noopener noreferrer"},n)," ",g("photoOn")," ",r.a.createElement("a",{href:"https://unsplash.com/?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText",target:"_blank",rel:"noopener noreferrer"},"Unsplash"))),trigger:"click"},u)}));mt.defaultProps={userID:"",title:"",altDescriprion:"",photoDesc:"",placement:"",photoUrlSizes:[],handleVisibleButtonChangeFalse:function(){},children:{}};var ft=mt,gt=(a(455),Object(o.memo)(function(e){var t=e.altDescriprion,a=e.photoDesc,n=e.placement,s=e.textButton,i=void 0===s?null:s,c=e.photoUrlSizes,l=e.userID,u=e.title,p=Object(o.useState)(!1),d=Object(q.a)(p,2),h=d[0],m=d[1],f={display:h?"block":null};return r.a.createElement("div",{"data-test":"downloadButtonContainer",className:"download-button",style:f},r.a.createElement(ft,{photoUrlSizes:c,userID:l,title:u,altDescriprion:t,photoDesc:a,placement:n,textButton:i,handleVisibleButtonChangeFalse:function(){m(!1)}},r.a.createElement(v.a,{"data-test":"downloadButton",className:"download-button__btn",onClick:function(){m(!h)}},r.a.createElement(b.a,{"data-test":"downloadButtonIcon",className:"download-button__icon",type:"download"}),i&&r.a.createElement("div",{className:"download-button__text"},i))))}));gt.defaultProps={userID:"",title:"",altDescriprion:"",photoDesc:"",placement:"",textButton:"",photoUrlSizes:[]};var Et=gt,bt=(a(456),Object(o.memo)(function(e){var t=e.onSearchTagValue,a=e.item,o=Object(u.d)(function(e){return e.login}).profileName;return r.a.createElement("li",{className:"photo-card-list-item photo-card-list__item"},r.a.createElement("header",{className:"photo-card-list__header"},r.a.createElement(lt,{userID:a.userID,userAvatar:a.userAvatar,title:a.title}),o&&r.a.createElement(pt,{photoID:a.photoID})),r.a.createElement(rt,{photoID:a.photoID,photoAltDesc:a.photoAltDesc,photoName:a.photoName}),r.a.createElement("footer",{className:"photo-card-list__footer"},r.a.createElement(it,{onSearchTagValue:t,tags:a.tags}),r.a.createElement(Et,{altDescriprion:a.photoAltDesc,photoDesc:a.photoDesc,photoSrc:a.photoName,photoUrlSizes:a.photoUrlSizes,placement:"leftBottom",userID:a.userID,title:a.title})))}));bt.defaultProps={onSearchTagValue:function(){},item:{}};var vt=bt,_t=(a(457),Object(o.memo)(function(){return r.a.createElement("div",{"data-test":"spinnerContainer",className:"photocard-spinner"},r.a.createElement("div",{className:"sk-circle-bounce"},r.a.createElement("div",{className:"sk-child sk-circle-1"}),r.a.createElement("div",{className:"sk-child sk-circle-2"}),r.a.createElement("div",{className:"sk-child sk-circle-3"}),r.a.createElement("div",{className:"sk-child sk-circle-4"}),r.a.createElement("div",{className:"sk-child sk-circle-5"}),r.a.createElement("div",{className:"sk-child sk-circle-6"}),r.a.createElement("div",{className:"sk-child sk-circle-7"}),r.a.createElement("div",{className:"sk-child sk-circle-8"}),r.a.createElement("div",{className:"sk-child sk-circle-9"}),r.a.createElement("div",{className:"sk-child sk-circle-10"}),r.a.createElement("div",{className:"sk-child sk-circle-11"}),r.a.createElement("div",{className:"sk-child sk-circle-12"})))})),Ot=(a(458),Object(o.memo)(function(e){var t=e.onSearchTagValue,a=e.getPaginationChange,o=e.cards,n=e.totalCards;return r.a.createElement(tt.a,{pageStart:0,"data-test":"photoCardList",initialLoad:!1,threshold:0,loadMore:a,loader:n>o.length?r.a.createElement(_t,{key:"spinner"}):null,hasMore:n>o.length},r.a.createElement(We.a,{className:"photo-card-list ".concat(at.isTablet||at.isMobile?"photo-card-list_theme_mobile":""),elementType:"ul",disableImagesLoaded:!1,updateOnEachImageLoad:!1},o.map(function(e){return r.a.createElement(vt,{key:e.photoID,"data-test":"photoCard",onSearchTagValue:t,getPaginationChange:a,item:e})})))}));Ot.propTypes={onSearchTagValue:Q.a.func,getPaginationChange:Q.a.func,cards:Q.a.arrayOf(Q.a.object),totalCards:Q.a.number},Ot.defaultProps={onSearchTagValue:function(){},getPaginationChange:function(){},cards:[],totalCards:0};var Nt=Ot,St=function(e){var t=window.document.querySelector("body");t.style.overflowY="scroll",e||(t.style.overflowY="auto")},It=(a(459),a(460),function(e){function t(){var e,a;Object(se.a)(this,t);for(var o=arguments.length,r=new Array(o),n=0;n<o;n++)r[n]=arguments[n];return(a=Object(ce.a)(this,(e=Object(le.a)(t)).call.apply(e,[this].concat(r)))).state={page:1,cards:[]},a.componentDidUpdate=function(e){var t=a.props,o=t.cardsData,r=t.handle\u0421ardsPhotosAction,n=t.location.state,s=t.history.push,i=t.isListingLoading,c=t.searchTextAction,l=a.state.cards,u=a.props.cards;if(e.cards!==u){var p=[].concat(Object(ne.a)(l),Object(ne.a)(u));return a.setState({cards:p})}return e.cardsData===o||i?(n&&n.flag&&o.query!==T&&!i&&(s("",{}),a.setState({page:1,cards:[]},function(){c(T,"tags")})),!1):(r(Object(S.a)({},o,{page:1})),a.setState({page:1,cards:[]}))},a.componentDidMount=function(){var e=a.props,t=e.match.params.tag,o=e.searchTextAction,r=me(window.location,"search");return t?o(t,"tags"):r?o(r,"tags"):a.getCardsPhotos()},a.handleUrl=function(e){(0,a.props.history.push)("?search=".concat(e),{})},a.getCardsPhotos=function(){var e=a.props,t=e.cardsData;(0,e.handle\u0421ardsPhotosAction)(t)},a.getPaginationChange=function(){var e=a.props,t=e.handle\u0421ardsPhotosAction,o=e.cardsData,r=e.isListingLoading,n=a.state.page;r||(t(Object(S.a)({},o,{page:n+1})),a.setState({page:n+1}))},a.getSearchText=function(e,t){(0,a.props.searchTextAction)(e,t),a.handleUrl(e)},a}return Object(ue.a)(t,e),Object(ie.a)(t,[{key:"render",value:function(){var e=this.props,t=e.totalCards,a=e.photolistingRequestError,o=e.errorRateLimit,n=void 0===o?"":o,s=e.t,i=this.state.cards,c="Rate Limit Exceeded"===n;return St(t),c?r.a.createElement("div",{className:"error-text","data-test":"errorText"},s("errors.increasedNumberDownloads")):a?r.a.createElement("div",{className:"error-text","data-test":"errorText"},s("errors.errorLoadingPhotolisting")):r.a.createElement("div",{className:"App"},r.a.createElement(Nt,{"data-test":"photoCard",onSearchTagValue:this.getSearchText,getPaginationChange:this.getPaginationChange,cards:i,totalCards:t}),!t&&r.a.createElement("div",{className:"cards__text-empty","data-test":"cardsTextEmpty"},s("errors.imagesNotFound")))}}]),t}(o.PureComponent));It.defaultProps={"handle\u0421ardsPhotosAction":function(){},searchTextAction:function(){},cards:[],cardsData:{query:"wallpapers",page:1,per_page:6},totalCards:0,photolistingRequestError:!1,match:{params:{tag:""}},isListingLoading:!1,location:{},history:{},errorRateLimit:""};var Tt={"handle\u0421ardsPhotosAction":function(e){return{type:"CARDS_PHOTOS_FETCHING",isListingLoading:!0,cardsData:e}},paginationChangeAction:function(e){return{type:"PAGINATION_CHANGE",page:e}},filterItemValueAction:ee,searchTextAction:te,searchChangeInputValueAction:ae},Lt=Object(c.c)()(Object(u.b)(function(e){return e.photolisting},Tt)(It)),yt=a(505),wt=a(233),Pt=a.n(wt),Ct=function(e,t,a){if(!e.isSuccessPhotoRequest){var o=e.widthPhoto,r=e.heightPhoto,n=t-2,s=a-147-53,i=0,c=0;if(o>r)return i=Math.floor(o/n),(c=Math.floor(r/i))>s?{photoWidth:"auto",photoHeight:"".concat(s-60,"px")}:{photoWidth:"auto",photoHeight:"".concat(c-60,"px")};if(r>o)return c=Math.floor(r/s),(i=Math.floor(o/c))>n?{photoWidth:"".concat(n-60,"px"),photoHeight:"auto"}:{photoWidth:"".concat(i-60,"px"),photoHeight:"auto"}}return{photoWidth:"300px",photoHeight:"auto"}},xt=(a(465),function(e){function t(e){var a;return Object(se.a)(this,t),(a=Object(ce.a)(this,Object(le.a)(t).call(this,e))).componentDidMount=function(){var e=a.props,t=e.match;(0,e.photoRequestAction)(t),a.setPhotoSize(),Y("addEventListener",["resize"],[a.setPhotoSize])},a.componentDidUpdate=function(e){var t=a.props.widthPhoto;e.widthPhoto!==t&&a.setPhotoSize()},a.componentWillUnmount=function(){Y("removeEventListener",["resize"],[a.setPhotoSize])},a.setPhotoSize=function(){var e=a.photoContainer.current.offsetWidth,t=window.document.documentElement.clientHeight,o=Ct(a.props,e,t);a.setState({photoWidth:o.photoWidth,photoHeight:o.photoHeight})},a.state={photoWidth:null,photoHeight:null},a.photoContainer=r.a.createRef(),a}return Object(ue.a)(t,e),Object(ie.a)(t,[{key:"render",value:function(){var e=this.state,t=e.photoWidth,a=e.photoHeight,o=this.props,n=o.info,s=o.userFirstName,i=o.userLastName,c=o.userName,l=o.twitterName,u=o.photoProfile,p=o.tags,d=o.altDescriprion,h=o.photoSrc,m=o.isPhotoLoading,f=o.requestError,g=o.isSuccessPhotoRequest,E=o.photoImageLoadAction,_=o.photoUrlSizes,O=o.t,N={width:t,height:a};return St(0),r.a.createElement("div",{"data-test":"photoContainer",className:"photo-container photo",id:"photo-container",ref:this.photoContainer},!g&&!f&&r.a.createElement(yt.a,{"data-test":"photoCard",title:r.a.createElement(I.a,{"data-test":"photoTwitterLinkRouter",to:"/users/".concat(c)},r.a.createElement("div",{"data-test":"photoTwitter",className:"photo__twitter photo-twitter"},r.a.createElement("img",{"data-test":"photoTwitterAvatar",src:u,alt:"Avatar",className:"photo-twitter__ava"}),r.a.createElement("div",{"data-test":"photoTwitterContent",className:"photo-twitter__content"},r.a.createElement("p",{"data-test":"photoTwitterUserName",className:"photo-twitter__user-name"},"".concat(s," ").concat(i)),r.a.createElement("p",{"data-test":"photoTwitterName",className:"photo-twitter__twitter-name"},"@",l)))),extra:r.a.createElement(Et,{photoDesc:n.photoDesc,altDescriprion:d,photoSrc:h,textButton:O("download"),photoUrlSizes:_,placement:"bottom",title:s,userID:c}),style:{width:"100%",height:"100%",padding:0},bodyStyle:{padding:0},headStyle:{padding:"0 10px"}},r.a.createElement("div",{"data-test":"photoContent",className:"photo__content photo-content"},m&&r.a.createElement(Te,{"data-test":"photoSpinner"}),r.a.createElement(Pt.a,{"data-test":"photoImageZoom",defaultStyles:{overlay:{background:"rgba(0, 0, 0, .8)"}},image:{"data-test":"photoImageZoomImg",src:h,alt:d,className:"photo-content__photo",style:N,onLoad:E},zoomImage:{src:h,alt:d}}),r.a.createElement("div",{"data-test":"photoFooter",className:"photo-content__footer photo-footer"},r.a.createElement("div",{"data-test":"photoFooterTags",className:"photo-footer__tags"},p.length&&r.a.createElement(nt.a,{"data-test":"photoPopover",placement:"topLeft",title:O("allTags"),content:r.a.createElement("div",null,p.map(function(e){return r.a.createElement(I.a,{"data-test":"photoTagLinkRouter",to:"/".concat(e.title),key:e.title},r.a.createElement(be.a,{"data-test":"photoTag",key:e.title},e.title))})),trigger:"click"},r.a.createElement(v.a,{"data-test":"photoPopoverButton",href:"#",className:"photoPopoverButton"},r.a.createElement(b.a,{type:"tag","data-test":"photoPopoverButtonIcon"}),r.a.createElement("span",{className:"photoPopoverButton__text"},O("showAllTags"))))),r.a.createElement("div",{"data-test":"photoFooterBtns",className:"photo-footer__btns"},r.a.createElement(v.a,{"data-test":"photoFooterBtnsBtn",href:"#",className:"photoFooterBtnsBtn"},r.a.createElement(b.a,{type:"share-alt"}),r.a.createElement("span",{className:"photoFooterBtnsBtn__text"},O("share"))),r.a.createElement(Fe,Object.assign({"data-test":"photoInfoPhotoModal"},n)))))),!m&&!g&&f&&r.a.createElement(Ve,{"data-test":"photoError",text:O("errors.photoNotFound")}))}}]),t}(o.Component));xt.defaultProps={photoImageLoadAction:function(){},photoRequestAction:function(){},info:{},userFirstName:"",userLastName:"",userName:"",twitterName:"",photoProfile:"",tags:[],altDescriprion:"",photoSrc:"",widthPhoto:300,heightPhoto:300,isPhotoLoading:!0,isSuccessPhotoRequest:!0,requestError:!1,match:{},history:{},t:function(){},photoUrlSizes:[]};var kt={photoRequestAction:function(e){return{type:"PHOTO_FETCHING",isPhotoLoading:!0,match:e}},photoImageLoadAction:function(){return{type:"PHOTO_IMAGE_LOAD"}}},jt=Object(c.c)()(Object(u.b)(function(e){return e.photo},kt)(xt)),Rt=(a(473),function(e){function t(){var e,a;Object(se.a)(this,t);for(var o=arguments.length,r=new Array(o),n=0;n<o;n++)r[n]=arguments[n];return(a=Object(ce.a)(this,(e=Object(le.a)(t)).call.apply(e,[this].concat(r)))).componentDidMount=function(){a.props.profileName||(0,a.props.loadingRequestAction)(window.document.location)},a.handleLoguotProfile=function(){(0,a.props.logoutAction)()},a}return Object(ue.a)(t,e),Object(ie.a)(t,[{key:"render",value:function(){var e=this.props,t=e.fetching,a=e.loginError,o=e.profilePhotoUrl,n=e.profileFullName,s=e.profileEmail,i=e.profileName,c=e.t;return St(0),r.a.createElement("div",{"data-test":"profile",className:"profile"},t&&r.a.createElement(Ie,{"data-test":"spinner",className:"spinner"}),!t&&!a&&r.a.createElement("div",{"data-test":"profileContent",className:"profile__content profile-content"},r.a.createElement("img",{"data-test":"profileContentAvatar",className:"profile-content__avatar",src:o,alt:c("profileAvatar")}),r.a.createElement("div",{"data-test":"profileContentTitleWrap",className:"profile-content__title-wrap"},r.a.createElement("h2",{"data-test":"profileContentTitle",className:"profile-content__title"},n),r.a.createElement("p",{"data-test":"profileContentEmail"},s),r.a.createElement("p",{"data-test":"profileContentText",className:"profile-content__text"},c("profileDesc")," ",i))),!t&&a&&r.a.createElement(Ve,{"data-test":"error",text:c("authorizationFailed")}))}}]),t}(o.PureComponent));Rt.defaultProps={logoutAction:function(){},loadingRequestAction:function(){},profilePhotoUrl:"",profileFullName:"",profileName:"",profileEmail:"",fetching:!1,loginError:!1,history:{},t:function(){}};var At={loadingRequestAction:function(e){return{type:"LOGIN_FETCHING",fetching:!0,location:e}},logoutAction:$},Dt=Object(c.c)()(Object(u.b)(function(e){return e.login},At)(Rt)),Ut=a(164),Ft=a(89),Ht=a(47),Vt=(a(474),Ut.a.TabPane),qt=function(e){function t(){var e,a;Object(se.a)(this,t);for(var o=arguments.length,r=new Array(o),n=0;n<o;n++)r[n]=arguments[n];return(a=Object(ce.a)(this,(e=Object(le.a)(t)).call.apply(e,[this].concat(r)))).componentDidMount=function(){var e=a.props,t=e.match;(0,e.userRequestAction)(t)},a}return Object(ue.a)(t,e),Object(ie.a)(t,[{key:"render",value:function(){var e=this.props,t=e.match,a=e.isUserFetching,o=e.userPhoto,n=e.userFirstPhoto,s=e.requestError,i=e.t;return r.a.createElement("div",{"data-test":"userContainer",className:"user-container"},a&&r.a.createElement(Ie,{"data-test":"spinner"}),!a&&!s&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Ft.a,{style:{display:"flex",justifyContent:"center"}},r.a.createElement(Ht.a,null,r.a.createElement("img",{"data-test":"userAvatar",className:"user-card__first-img",alt:i("userAvatar"),src:n}),r.a.createElement("div",{"data-test":"userCardPhotoWrap",className:"user-card__photo-wrap"},r.a.createElement(B.a,{"data-test":"userCardPhotoAvatar",size:150,src:o})))),r.a.createElement(Ft.a,{style:{display:"flex",justifyContent:"center",overflow:"hidden"}},r.a.createElement(Ht.a,null,r.a.createElement("div",{"data-test":"userTabs",className:"user-tabs"},r.a.createElement(Ut.a,{"data-test":"userTabsItem",className:"user-tabs__item",defaultActiveKey:"1"},r.a.createElement(Vt,{tab:i("userTabs.myPhotos"),key:"1",className:"user-tabs__pane"},r.a.createElement(Xe,{"data-test":"smallPhotoListing",userId:t.params.id,itemNum:0,name:"photos"})),r.a.createElement(Vt,{tab:i("userTabs.myLikes"),key:"2",className:"user-tabs__pane"},r.a.createElement(Xe,{"data-test":"smallPhotoListing",userId:t.params.id,itemNum:1,name:"likes"})),r.a.createElement(Vt,{tab:i("userTabs.myStatistic"),key:"3",className:"user-tabs__pane"},r.a.createElement(Qt,{"data-test":"userStatistic",userId:t.params.id}))))))),!a&&s&&r.a.createElement(Ve,{"data-test":"photoError",text:i("userNotFound")}))}}]),t}(o.PureComponent);qt.defaultProps={isUserFetching:!0,userPhoto:"",userFirstPhoto:"",userRequestAction:function(){},requestError:!1,history:{},match:{params:{id:""}},t:function(){}};var Mt={userRequestAction:function(e){return{type:"USER_FETCHING",isUserFetching:!0,match:e}}},zt=Object(c.c)()(Object(u.b)(function(e){return e.user},Mt)(qt)),Bt=(a(475),function(e){function t(){var e,a;Object(se.a)(this,t);for(var o=arguments.length,r=new Array(o),n=0;n<o;n++)r[n]=arguments[n];return(a=Object(ce.a)(this,(e=Object(le.a)(t)).call.apply(e,[this].concat(r)))).state={chartData:[]},a.componentDidMount=function(){var e=a.props.userId;(0,a.props.userStatistingRequestAction)(e)},a.componentDidUpdate=function(e){var t=e.lang,o=a.props,r=o.chartData,n=o.lang,s=a.state.chartData;return JSON.stringify(s)!==JSON.stringify(r)?a.setState({chartData:r}):t!==n&&a.setState({chartData:Object(ne.a)(s)})},a}return Object(ue.a)(t,e),Object(ie.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isListingLoading,a=e.requestError,o=e.t,n=this.state.chartData;return r.a.createElement("div",{"data-test":"userStatistic",className:"user-statistic"},t&&r.a.createElement(Ie,{"data-test":"spinner",className:"spinner"}),!t&&!a&&r.a.createElement("div",{"data-test":"userStatisticCharts",className:"user-statistic__charts"},n.map(function(e,t){return r.a.createElement(Ge,{"data-test":"highchartsHOC",config:e,configNum:t,key:e.dates[t]})})),!t&&a&&r.a.createElement(Ve,{"data-test":"error",text:o("errors.failedUserStatistics")}))}}]),t}(o.Component));Bt.defaultProps={userStatistingRequestAction:function(){},isListingLoading:!1,userId:"",chartData:[],requestError:!1,t:function(){},lang:"ru"};var Gt={userStatistingRequestAction:function(e){return{type:"USER_STATISTIC_FETCHING",isListingLoading:!0,userId:e}}},Qt=Object(c.c)()(Object(u.b)(function(e){var t=e.userstatistic,a=e.charts,o=e.lang;return Object(S.a)({},t,a,{lang:o})},Gt)(Bt)),Wt=(a(476),Object(o.memo)(function(){return r.a.createElement(m.a,{basename:"/React-Photo-Listing-Demo"},r.a.createElement(h.LastLocationProvider,null,r.a.createElement(Se,null),r.a.createElement("div",{className:"page"},r.a.createElement(E.a,null,r.a.createElement("div",{className:"ant-back-top-inner"},r.a.createElement(b.a,{type:"arrow-up"}))),r.a.createElement(f.a,null,r.a.createElement(g.a,{exact:!0,path:"/",component:function(e){return r.a.createElement(Lt,e)}}),r.a.createElement(g.a,{path:"/photo/:id",component:function(e){return r.a.createElement(jt,e)}}),r.a.createElement(g.a,{path:"/profile",component:function(e){return r.a.createElement(Dt,e)}}),r.a.createElement(g.a,{path:"/users/:id",component:function(e){return r.a.createElement(zt,e)}}),r.a.createElement(g.a,{path:"/:tag",component:function(e){return r.a.createElement(Lt,e)}})))))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Kt=[{id:0,label:"Editorial",filterValue:"editorial"},{id:1,label:"Following",filterValue:"following",border:!0},{id:2,label:"Wallpapers",filterValue:"wallpapers"},{id:3,label:"Textures",filterValue:"textures"},{id:4,label:"Nature",filterValue:"nature"},{id:5,label:"Events",filterValue:"events"},{id:6,label:"Architecture",filterValue:"architecture"},{id:7,label:"Business",filterValue:"business"},{id:8,label:"Animals",filterValue:"animals"},{id:9,label:"Travel",filterValue:"travel"},{id:10,label:"Fashion",filterValue:"fashion"},{id:11,label:"Food",filterValue:"food"},{id:12,label:"Drink",filterValue:"drink"},{id:13,label:"Spirituality",filterValue:"spirituality"},{id:14,label:"Experimental",filterValue:"experimental"},{id:15,label:"People",filterValue:"people"},{id:16,label:"Health",filterValue:"health"},{id:17,label:"Arts",filterValue:"arts"},{id:18,label:"Cars",filterValue:"cars"},{id:19,label:"Birds",filterValue:"birds"},{id:20,label:"Kings",filterValue:"kings"},{id:21,label:"Spheres",filterValue:"spheres"},{id:22,label:"Islands",filterValue:"islands"},{id:23,label:"\u0421ities",filterValue:"cities"},{id:24,label:"Brands",filterValue:"brands"}],Yt=function(){return JSON.parse(window.localStorage.getItem("loginData"))},Jt=window.localStorage.getItem("lang")||"ru",Xt=Yt()||Object(S.a)({},L);s.a.changeLanguage(Jt);var Zt={login:Object(S.a)({},L,Xt),photolisting:{filters:Kt,isListingLoading:!1,cards:[],totalCards:10,navTopItemActive:2,cardsData:{query:"wallpapers",page:1,per_page:6},photolistingRequestError:!1},userstatistic:{isListingLoading:!1,chartData:[],requestError:!1},charts:{isChart:!1},lang:Jt,photo:{info:{lastUpdateInfo:"",photoDesc:"",views:0,downloads:0,likes:0,cameraMake:"",focalLength:"",aperture:"",shutterspeed:"",iso:0,cameraModel:"",width:"",height:""},userFirstName:"",userLastName:"",userName:"",twitterName:"",photoProfile:"",tags:[],altDescriprion:"",photoSrc:"",widthPhoto:300,heightPhoto:300,isPhotoLoading:!0,isSuccessPhotoRequest:!0,requestError:!1},user:{isUserFetching:!1,userPhoto:"",userFirstPhoto:""},smallphotolisting:[{isSmallPhotoListingFetching:!1,cards:[],totalCards:10,page:1,perPage:6},{isSmallPhotoListingFetching:!1,cards:[],totalCards:10,page:1,perPage:6}]},$t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zt,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"LOGIN_FETCHING":return Object(S.a)({},e,{fetching:!0,loginError:!1});case"LOGIN_SUCCESS":return Object(S.a)({},e,t.dataForProps,{fetching:!1,loginError:!1});case"LOGIN_ERROR":return Object(S.a)({},e,{fetching:!1,loginError:!0});case"LOGOUT":return Object(S.a)({},e,L);default:return e}},ea=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zt,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"CARDS_PHOTOS_FETCHING":return Object(S.a)({},e,{isListingLoading:!0});case"CARDS_PHOTOS_REQUEST_SUCCESS":return Object(S.a)({},e,t.dataForProps,{cardsData:Object(S.a)({},e.cardsData,{query:t.queryText}),photolistingRequestError:!1});case"PAGINATION_CHANGE":return Object(S.a)({},e,{cardsData:Object(S.a)({},e.cardsData,{page:t.page})});case"FILTER_ITEM_VALUE":return Object(S.a)({},e,{navTopItemActive:t.itemId,cardsData:Object(S.a)({},e.cardsData,{page:1,query:t.itemText})});case"SEARCH_TEXT":return Object(S.a)({},e,{navTopItemActive:t.tags?-2:e.navTopItemActive,cardsData:Object(S.a)({},e.cardsData,{page:1,query:t.text})});case"SEARCH_TEXT_CHANGE_INPUT_VALUE":return Object(S.a)({},e,{cardsData:Object(S.a)({},e.cardsData,{query:t.text})});case"CARDS_PHOTOS_REQUEST_ERROR":return Object(S.a)({},e,{isListingLoading:!1,photolistingRequestError:!0,errorRateLimit:t.errorRateLimit});default:return e}},ta=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zt,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"USER_STATISTIC_FETCHING":return Object(S.a)({},e,{isListingLoading:!0});case"USER_STATISTIC_REQUEST_SUCCESS":return Object(S.a)({},e,{chartData:t.dataForProps,isListingLoading:!1,requestError:!1});case"USER_STATISTIC_REQUEST_ERROR":return Object(S.a)({},e,{isListingLoading:!1,requestError:!0});default:return e}},aa={type:""},oa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zt,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:aa;switch(t.type){case"PHOTO_FETCHING":return Object(S.a)({},e,{isPhotoLoading:!0,isSuccessPhotoRequest:!0});case"PHOTO_REQUEST_SUCCESS":return Object(S.a)({},e,t.dataForProps,{isPhotoLoading:!0,isSuccessPhotoRequest:!1,requestError:!1});case"PHOTO_REQUEST_ERROR":return Object(S.a)({},e,{isPhotoLoading:!1,isSuccessPhotoRequest:!1,requestError:!0});case"PHOTO_IMAGE_LOAD":return Object(S.a)({},e,{isPhotoLoading:!1,isSuccessPhotoRequest:!1,requestError:!1});default:return e}},ra=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zt,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"USER_FETCHING":return Object(S.a)({},e,{isUserFetching:!0});case"USER_REQUEST_SUCCESS":return Object(S.a)({},e,t.dataForProps,{isUserFetching:!1,requestError:!1});case"USER_REQUEST_ERROR":return Object(S.a)({},e,{isUserFetching:!1,requestError:!0});default:return e}},na=a(88),sa={type:""},ia=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zt,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:sa;switch(t.type){case"SMALL_PHOTO_LISTING_FETCHING":return Object(S.a)({},e,Object(na.a)({},t.itemNum,{isSmallPhotoListingFetching:!0}));case"SMALL_PHOTO_LISTING_SUCCESS":return Object(S.a)({},e,Object(na.a)({},t.dataForProps.itemNum,Object(S.a)({},t.dataForProps,{isSmallPhotoListingFetching:!1,requestError:!1})));case"SMALL_PHOTO_LISTING_REQUEST_ERROR":return Object(S.a)({},e,Object(na.a)({},t.itemNum,{isSmallPhotoListingFetching:!1,requestError:!0}));default:return e}},ca=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zt;switch((arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).type){case"UPDATE_CHARTS_START":return Object(S.a)({},e,{isChart:!0});case"UPDATE_CHARTS_END":return Object(S.a)({},e,{isChart:!1});default:return e}},la=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zt;switch((arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).lang){case"ru":return"ru";case"en":return"en";default:return e}},ua=Object(p.c)({login:$t,photolisting:ea,userstatistic:ta,photo:oa,user:ra,smallphotolisting:ia,charts:ca,lang:la}),pa=a(18),da=a.n(pa),ha=a(12),ma=a(31),fa=a.n(ma),ga=a(7),Ea=a.n(ga),ba=da.a.mark(Sa),va=da.a.mark(Ia),_a=da.a.mark(Ta),Oa=function(e){return{profilePhotoUrl:Ea()(e,"data.profile_image.large",P),profileName:Ea()(e,"data.first_name",""),profileFullName:Ea()(e,"data.name",""),profileEmail:Ea()(e,"data.email","")}},Na={getProfile:function(e){return fa()(function(e){var t={Authorization:"Bearer ".concat(e)};return{method:"get",url:y,headers:t}}(e)).then(Oa)}};function Sa(e){var t,a;return da.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,Object(ha.b)(Na.getProfile,e);case 3:return t=o.sent,a=Object(S.a)({token:e},t),window.localStorage.setItem("loginData",JSON.stringify(a)),o.next=8,Object(ha.c)({type:"LOGIN_SUCCESS",dataForProps:t});case 8:o.next=14;break;case 10:return o.prev=10,o.t0=o.catch(0),o.next=14,Object(ha.c)({type:"LOGIN_ERROR"});case 14:case"end":return o.stop()}},ba,null,[[0,10]])}function Ia(e){var t,a,o;return da.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t={url:w,body:{redirect_uri:"https://psywalker.github.io/React-Photo-Listing-Demo/profile",client_secret:"90a62ecb27270b9f05f059e880d3fcd878aad1f8120c6e765f11da158d97cf40",code:e,grant_type:"authorization_code",client_id:"bba0e5effd29d1c0d0957b57759a6b65f34fe4fece1188a73a4dcee69b53d3a5"}},r.prev=1,r.next=4,Object(ha.b)(fa.a.post,t.url,t.body);case 4:return a=r.sent,r.next=7,Object(ha.b)(Ea.a,a,"data.access_token",!1);case 7:return o=r.sent,window.localStorage.removeItem("token"),window.localStorage.setItem("token",o),r.next=12,Object(ha.b)(Sa,o);case 12:r.next=18;break;case 14:return r.prev=14,r.t0=r.catch(1),r.next=18,Object(ha.c)({type:"LOGIN_ERROR"});case 18:case"end":return r.stop()}},va,null,[[1,14]])}function Ta(e){var t,a;return da.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(t=window.localStorage.getItem("token"),a=!!(e&&e.location&&e.location.search)&&e.location.search.split("?code=")[1],!t||"undefined"===t){o.next=7;break}return o.next=5,Object(ha.b)(Sa,t);case 5:o.next=14;break;case 7:if(!a){o.next=12;break}return o.next=10,Object(ha.b)(Ia,a);case 10:o.next=14;break;case 12:return o.next=14,Object(ha.c)({type:"LOGIN_ERROR"});case 14:case"end":return o.stop()}},_a)}var La=da.a.mark(Pa),ya=function(e){return{cards:Ea()(e,"data.results",[]).map(function(e){return{photoUrlSizes:[{url:Ea()(e,"urls.thumb",""),value:"photoSizeNames.thumb"},{url:Ea()(e,"urls.small",""),value:"photoSizeNames.small"},{url:Ea()(e,"urls.regular",""),value:"photoSizeNames.regular"},{url:Ea()(e,"urls.raw",""),value:"photoSizeNames.raw"},{url:Ea()(e,"urls.full",""),value:"photoSizeNames.full"}],photoName:Ea()(e,"urls.regular",""),photoDesc:null!==e.description?e.description:"",photoAltDesc:null!==e.alt_description?e.alt_description:"Photo",title:Ea()(e,"user.first_name",""),tags:Ea()(e,"tags",[]),photoID:Ea()(e,"id",""),userID:Ea()(e,"user.username",""),userAvatar:Ea()(e,"user.profile_image.large",""),likes:Ea()(e,"likes",0)}}),isListingLoading:!1,totalCards:Ea()(e,"data.total",10)}},wa={getPhotoListing:function(e){return fa()(function(e){return{method:"get",url:"https://api.unsplash.com/search/photos",params:Object(S.a)({},e,{client_id:"bba0e5effd29d1c0d0957b57759a6b65f34fe4fece1188a73a4dcee69b53d3a5"})}}(e)).then(ya)}};function Pa(e){var t,a,o,r;return da.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!(t=e.cardsData)){n.next=17;break}return n.prev=2,n.next=5,Object(ha.b)(wa.getPhotoListing,t);case 5:return a=n.sent,n.next=8,Object(ha.c)({type:"CARDS_PHOTOS_REQUEST_SUCCESS",dataForProps:a,queryText:t.query});case 8:n.next=15;break;case 10:return n.prev=10,n.t0=n.catch(2),o=Ea()(n.t0,"response.data",""),n.next=15,Object(ha.c)({type:"CARDS_PHOTOS_REQUEST_ERROR",errorRateLimit:o});case 15:n.next=20;break;case 17:return r={},n.next=20,Object(ha.c)({type:"CARDS_PHOTOS_REQUEST_ERROR",error:r});case 20:case"end":return n.stop()}},La,null,[[2,10]])}var Ca=da.a.mark(ja),xa=function(e){return[Ea()(e,"data.downloads.historical.values",[]),Ea()(e,"data.views.historical.values",[]),Ea()(e,"data.likes.historical.values",[])].map(function(e){return{dates:e.map(function(e){return je()(new Date(e.date)).format("DD MMMM YYYY")}),values:e.map(function(e){return e.value})}})},ka={getUserStatistic:function(e){return fa()(function(e){return{method:"get",url:U(e),params:{client_id:"bba0e5effd29d1c0d0957b57759a6b65f34fe4fece1188a73a4dcee69b53d3a5"}}}(e)).then(xa)}};function ja(e){var t,a;return da.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!(t=e.userId)){o.next=16;break}return o.prev=2,o.next=5,Object(ha.b)(ka.getUserStatistic,t);case 5:return a=o.sent,o.next=8,Object(ha.c)({type:"USER_STATISTIC_REQUEST_SUCCESS",dataForProps:a});case 8:o.next=14;break;case 10:return o.prev=10,o.t0=o.catch(2),o.next=14,Object(ha.c)({type:"USER_STATISTIC_REQUEST_ERROR",error:o.t0});case 14:o.next=18;break;case 16:return o.next=18,Object(ha.c)({type:"USER_STATISTIC_REQUEST_ERROR"});case 18:case"end":return o.stop()}},Ca,null,[[2,10]])}var Ra=da.a.mark(Ua),Aa=function(e){return{info:{lastUpdateInfo:Ea()(e,"data.updated_at",""),photoDesc:Ea()(e,"data.description",""),views:Ea()(e,"data.views",0),downloads:Ea()(e,"data.downloads",0),likes:Ea()(e,"data.likes",0),cameraMake:Ea()(e,"data.exif.make",""),focalLength:Ea()(e,"data.exif.focal_length",""),aperture:Ea()(e,"data.exif.aperture",""),shutterspeed:Ea()(e,"data.exif.exposure_time",""),iso:Ea()(e,"data.exif.iso",0),cameraModel:Ea()(e,"data.exif.model",""),width:Ea()(e,"data.width",300),height:Ea()(e,"data.height",300)},photoUrlSizes:[{url:Ea()(e,"data.urls.thumb",""),value:"photoSizeNames.thumb"},{url:Ea()(e,"data.urls.small",""),value:"photoSizeNames.small"},{url:Ea()(e,"data.urls.regular",""),value:"photoSizeNames.regular"},{url:Ea()(e,"data.urls.raw",""),value:"photoSizeNames.raw"},{url:Ea()(e,"data.urls.full",""),value:"photoSizeNames.full"}],userFirstName:Ea()(e,"data.user.first_name",""),userLastName:Ea()(e,"data.user.last_name",""),userName:Ea()(e,"data.user.username",""),twitterName:Ea()(e,"data.user.instagram_username",""),photoProfile:Ea()(e,"data.user.profile_image.large",""),tags:Ea()(e,"data.tags",[]),altDescriprion:Ea()(e,"data.alt_description",""),photoSrc:Ea()(e,"data.urls.regular",""),widthPhoto:Ea()(e,"data.width",300),heightPhoto:Ea()(e,"data.height",300)}},Da={getPhoto:function(e){return fa()(function(e){return{method:"get",url:A(e)}}(e)).then(Aa)}};function Ua(e){var t,a;return da.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!(t=e.match)){o.next=16;break}return o.prev=2,o.next=5,Object(ha.b)(Da.getPhoto,t);case 5:return a=o.sent,o.next=8,Object(ha.c)({type:"PHOTO_REQUEST_SUCCESS",dataForProps:a});case 8:o.next=14;break;case 10:return o.prev=10,o.t0=o.catch(2),o.next=14,Object(ha.c)({type:"PHOTO_REQUEST_ERROR",error:o.t0});case 14:o.next=18;break;case 16:return o.next=18,Object(ha.c)({type:"PHOTO_REQUEST_ERROR"});case 18:case"end":return o.stop()}},Ra,null,[[2,10]])}var Fa=da.a.mark(qa),Ha=function(e){return{userPhoto:Ea()(e,"data.profile_image.large","No User Photo"),userFirstPhoto:Ea()(e,"data.photos[0].urls.regular","No Photo")}},Va={getUser:function(e){return fa()(function(e){return{method:"get",url:D(e)}}(e)).then(Ha)}};function qa(e){var t,a;return da.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!(t=e.match)){o.next=16;break}return o.prev=2,o.next=5,Object(ha.b)(Va.getUser,t);case 5:return a=o.sent,o.next=8,Object(ha.c)({type:"USER_REQUEST_SUCCESS",dataForProps:a});case 8:o.next=14;break;case 10:return o.prev=10,o.t0=o.catch(2),o.next=14,Object(ha.c)({type:"USER_REQUEST_ERROR",error:o.t0});case 14:o.next=18;break;case 16:return o.next=18,Object(ha.c)({type:"USER_REQUEST_ERROR"});case 18:case"end":return o.stop()}},Fa,null,[[2,10]])}var Ma=da.a.mark(Ba),za={getSmallPhotoListing:function(e){var t=e.page,a=e.perPage,o=e.itemNum,r=e.userId,n=e.name;return fa()(function(e,t,a,o){var r=function(e){return"".concat("https://api.unsplash.com/","users/").concat(e,"/likes")}(a);return"photos"===e&&(r=function(e){return"".concat("https://api.unsplash.com/","users/").concat(e,"/photos")}(a)),{method:"get",url:r,params:{page:t,per_page:o,client_id:"bba0e5effd29d1c0d0957b57759a6b65f34fe4fece1188a73a4dcee69b53d3a5"}}}(n,t,r,a)).then(function(e,t,a){return function(o){var r=Ea()(o,"data",[]).map(function(e){return{photoUrl:Ea()(e,"urls.regular",""),photoID:Ea()(e,"id","")}});return{page:e,perPage:t,cards:r,totalCards:parseInt(Ea()(o,'headers["x-total"]',10),10),itemNum:a}}}(t,a,o))}};function Ba(e){var t,a,o,r;return da.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(t=e.userId,a=e.itemNum,!t){n.next=16;break}return n.prev=2,n.next=5,Object(ha.b)(za.getSmallPhotoListing,e);case 5:return o=n.sent,n.next=8,Object(ha.c)({type:"SMALL_PHOTO_LISTING_SUCCESS",dataForProps:o});case 8:n.next=14;break;case 10:return n.prev=10,n.t0=n.catch(2),n.next=14,Object(ha.c)({type:"SMALL_PHOTO_LISTING_REQUEST_ERROR",error:n.t0,itemNum:a});case 14:n.next=19;break;case 16:return r={},n.next=19,Object(ha.c)({type:"SMALL_PHOTO_LISTING_REQUEST_ERROR",error:r,itemNum:a});case 19:case"end":return n.stop()}},Ma,null,[[2,10]])}var Ga=da.a.mark(Ka),Qa=function(e){},Wa={photoLike:function(e){return fa()(function(e){var t=window.localStorage.getItem("token"),a={Authorization:"Bearer ".concat(t)};return{method:"post",url:F(e),params:{client_id:"bba0e5effd29d1c0d0957b57759a6b65f34fe4fece1188a73a4dcee69b53d3a5"},headers:a}}(e)).then(Qa)}};function Ka(e){var t,a,o;return da.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!(t=e.photoId)){r.next=14;break}return r.prev=2,r.next=5,Object(ha.b)(Wa.photoLike,t);case 5:return a=r.sent,r.next=8,Object(ha.c)({type:"PHOTO_LIKE_SUCCESS",dataForProps:a});case 8:r.next=12;break;case 10:r.prev=10,r.t0=r.catch(2);case 12:r.next=17;break;case 14:return o={},r.next=17,Object(ha.c)({type:"PHOTO_LIKE_ERROR",error:o});case 17:case"end":return r.stop()}},Ga,null,[[2,10]])}var Ya=da.a.mark(Za),Ja=function(e){},Xa={photoUnlike:function(e){return fa()(function(e){var t=window.localStorage.getItem("token"),a={Authorization:"Bearer ".concat(t)};return{method:"delete",url:F(e),params:{client_id:"bba0e5effd29d1c0d0957b57759a6b65f34fe4fece1188a73a4dcee69b53d3a5"},headers:a}}(e)).then(Ja)}};function Za(e){var t,a,o;return da.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!(t=e.photoId)){r.next=14;break}return r.prev=2,r.next=5,Object(ha.b)(Xa.photoUnlike,t);case 5:return a=r.sent,r.next=8,Object(ha.c)({type:"PHOTO_UNLIKE_SUCCESS",dataForProps:a});case 8:r.next=12;break;case 10:r.prev=10,r.t0=r.catch(2);case 12:r.next=17;break;case 14:return o={},r.next=17,Object(ha.c)({type:"PHOTO_UNLIKE_ERROR",error:o});case 17:case"end":return r.stop()}},Ya,null,[[2,10]])}var $a=da.a.mark(eo);function eo(){return da.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=ha.a,e.next=3,Object(ha.d)("LOGIN_FETCHING",Ta);case 3:return e.t1=e.sent,e.next=6,Object(ha.d)("CARDS_PHOTOS_FETCHING",Pa);case 6:return e.t2=e.sent,e.next=9,Object(ha.d)("USER_STATISTIC_FETCHING",ja);case 9:return e.t3=e.sent,e.next=12,Object(ha.d)("PHOTO_FETCHING",Ua);case 12:return e.t4=e.sent,e.next=15,Object(ha.d)("USER_FETCHING",qa);case 15:return e.t5=e.sent,e.next=18,Object(ha.d)("SMALL_PHOTO_LISTING_FETCHING",Ba);case 18:return e.t6=e.sent,e.next=21,Object(ha.d)("PHOTO_LIKE",Ka);case 21:return e.t7=e.sent,e.next=24,Object(ha.d)("PHOTO_UNLIKE",Za);case 24:return e.t8=e.sent,e.t9=[e.t1,e.t2,e.t3,e.t4,e.t5,e.t6,e.t7,e.t8],e.next=28,(0,e.t0)(e.t9);case 28:case"end":return e.stop()}},$a)}a(495);var to=Object(d.a)(),ao=[to];var oo=Object(p.e)(ua,Zt,p.a.apply(void 0,ao));to.run(eo,[555]),Object(n.render)(r.a.createElement(u.a,{store:oo},r.a.createElement(Wt,null)),window.document.getElementById("root")),"serviceWorker"in window.navigator&&window.navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[241,1,2]]]);
//# sourceMappingURL=main.a8f2157c.chunk.js.map