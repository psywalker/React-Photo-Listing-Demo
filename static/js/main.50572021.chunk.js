(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{237:function(t,e,a){t.exports=a(491)},256:function(t,e,a){},300:function(t,e,a){},301:function(t,e,a){},302:function(t,e,a){},314:function(t,e,a){},319:function(t,e,a){},320:function(t,e,a){},321:function(t,e,a){},322:function(t,e,a){},323:function(t,e,a){},331:function(t,e,a){},332:function(t,e,a){},444:function(t,e,a){},446:function(t,e,a){},447:function(t,e,a){},448:function(t,e,a){},449:function(t,e,a){},450:function(t,e,a){},451:function(t,e,a){},452:function(t,e,a){},453:function(t,e,a){},455:function(t,e,a){},460:function(t,e,a){},468:function(t,e,a){},469:function(t,e,a){},470:function(t,e,a){},471:function(t,e,a){},490:function(t,e,a){},491:function(t,e,a){"use strict";a.r(e);var o=a(0),r=a.n(o),n=a(11),s=a(53),i=a(234),c=a(26);s.a.use(i.a).use(c.a).init({resources:{en:{translations:{profile:"Profile",login:"Login",logout:"Logout",goBack:"Go back",download:"Download",share:"Share",showAllTags:"Show all tags",allTags:"All tags",userAvatar:"User Avatar",profileAvatar:"Profile avatar",profileDesc:"Download free, beautiful high-quality photos curated by",lang:{title:"Choose language",ru:"Russian",en:"English"},userTabs:{myPhotos:"My photos",myLikes:"My Likes",myStatistic:"My statistic"},chartsConfig:{myDownloads:"My Downloads",myViews:"My Views",myLikes:"My Likes",seriesNameDownloads:"Downloads",seriesNameViews:"Views",seriesNameLikes:"Likes",yAxisTitle:"Values"},photoInfo:{info:"Info",published:"Published on",views:"Views",downloads:"Downloads",likes:"Likes",cameraMake:"Camera Make",cameraModel:"Camera Model",focalLength:"Focal Length",aperture:"Aperture",shutterSpeed:"Shutter Speed",iso:"ISO",dimensions:"Dimensions"},errors:{oops:"OOPS",goBackHome:"BACK TO HOME",increasedNumberDownloads:"You have increased the number of downloads per hour. Try later.",errorLoadingPhotolisting:"Error loading photolisting",imagesNotFound:"No images were found for your request.",photoNotFound:"Sorry, no photo found",failedUserStatistics:"Failed to get user statistics. Try later again",userNotFound:"Sorry, user is not found",authorizationFailed:"An authorization failed. Try logging in later!"}}},ru:{translations:{profile:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c",login:"\u0412\u043e\u0439\u0442\u0438",logout:"\u0412\u044b\u0439\u0442\u0438",goBack:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043d\u0430\u0437\u0430\u0434",download:"\u0421\u043a\u0430\u0447\u0430\u0442\u044c",share:"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f",showAllTags:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0432\u0441\u0435 \u0442\u0435\u0433\u0438",allTags:"\u0412\u0441\u0435 \u0442\u0435\u0433\u0438",userAvatar:"\u0410\u0432\u0430\u0442\u0430\u0440\u043a\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",profileAvatar:"\u0410\u0432\u0430\u0442\u0430\u0440\u043a\u0430 \u043f\u0440\u043e\u0444\u0438\u043b\u044f",profileDesc:"\u0421\u043a\u0430\u0447\u0430\u0442\u044c \u0431\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u044b\u0435, \u043a\u0440\u0430\u0441\u0438\u0432\u044b\u0435, \u0432\u044b\u0441\u043e\u043a\u043e\u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0435 \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0438, \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u043c ",lang:{title:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u044f\u0437\u044b\u043a",ru:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",en:"\u0410\u043d\u0433\u043b\u0438\u0439\u0441\u043a\u0438\u0439"},userTabs:{myPhotos:"\u041c\u043e\u0438 \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0438",myLikes:"\u041c\u043e\u0438 \u043b\u0430\u0439\u043a\u0438",myStatistic:"\u041c\u043e\u044f \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430"},chartsConfig:{myDownloads:"\u041c\u043e\u0438 \u0441\u043a\u0430\u0447\u0438\u0432\u0430\u043d\u0438\u044f",myViews:"\u041c\u043e\u0438 \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u044b",myLikes:"\u041c\u043e\u0438 \u043b\u0430\u0439\u043a\u0438",seriesNameDownloads:"\u0421\u043a\u0430\u0447\u0438\u0432\u0430\u043d\u0438\u044f",seriesNameViews:"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u044b",seriesNameLikes:"\u041b\u0430\u0439\u043a\u0438",yAxisTitle:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"},photoInfo:{info:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0444\u043e\u0442\u043e",published:"\u041e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u043d\u043e \u0432",views:"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u044b",downloads:"\u0421\u043a\u0430\u0447\u0438\u0432\u0430\u043d\u0438\u044f",likes:"\u041b\u0430\u0439\u043a\u0438",cameraMake:"\u041a\u043e\u043c\u043f\u0430\u043d\u0438\u044f",cameraModel:"\u041c\u043e\u0434\u0435\u043b\u044c \u043a\u0430\u043c\u0435\u0440\u044b",focalLength:"\u0424\u043e\u043a\u0443\u0441\u043d\u043e\u0435 \u0440\u0430\u0441\u0441\u0442\u043e\u044f\u043d\u0438\u0435",aperture:"\u0410\u043f\u0435\u0440\u0442\u0443\u0440\u0430",shutterSpeed:"\u0421\u043a\u043e\u0440\u043e\u0441\u0442\u044c \u0437\u0430\u0442\u0432\u043e\u0440\u0430",iso:"ISO",dimensions:"\u0420\u0430\u0437\u043c\u0435\u0440\u044b"},errors:{oops:"\u0423\u043f\u0441",goBackHome:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e",increasedNumberDownloads:"\u0412\u044b \u043f\u0440\u0438\u0432\u044b\u0441\u0438\u043b\u0438 \u0447\u0438\u0441\u043b\u043e \u0441\u043a\u0430\u0447\u0438\u0432\u0430\u043d\u0438\u0439 \u0437\u0430 \u0447\u0430\u0441. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0437\u0436\u0435.",errorLoadingPhotolisting:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0444\u043e\u0442\u043e\u043b\u0438\u0441\u0442\u0438\u043d\u0433\u0430",imagesNotFound:"\u041f\u043e \u044d\u0442\u043e\u043c\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u0443 \u043a\u0430\u0440\u0442\u0438\u043d\u043e\u043a \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e.",photoNotFound:"\u0418\u0437\u0432\u0438\u043d\u0438\u0442\u0435, \u0444\u043e\u0442\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e",failedUserStatistics:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0443 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0437\u0436\u0435.",userNotFound:"\u0418\u0437\u0432\u0438\u043d\u0438\u0442\u0435, \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d",authorizationFailed:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f \u043d\u0435 \u043f\u0440\u043e\u0448\u043b\u0430"}}}},fallbackLng:"ru",debug:!0,ns:["translations"],defaultNS:"translations",keySeparation:!0});var l=s.a,u=a(21),d=a(50),p=(a(254),a(233)),m=a(78),h=a(162),f=a(210),g=a(115),E=a(61),b=a(15),_=a(211),v=(a(256),Object(_.a)(function(t){var e=t.history,a=t.lastLocation;if(!a)return!1;var o=Object(c.b)().t;return r.a.createElement(E.a,{"data-test":"btnBack",className:"btn-back",type:"default",onClick:function(){e.push(a.pathname)}},r.a.createElement(b.a,{type:"left"}),o("goBack"))})),O=Object(m.withLastLocation)(v),N=a(13),I=a(89),T="wallpapers",L="".concat("https://api.unsplash.com","/me"),S="https://unsplash.com/oauth/token",P="".concat("/React-Photo-Listing-Demo","/ava-placeholder.jpg"),y="".concat("/React-Photo-Listing-Demo","/error-image.jpg"),w="".concat("/React-Photo-Listing-Demo","/logo.svg"),C="".concat("/React-Photo-Listing-Demo","/ru.png"),x="".concat("/React-Photo-Listing-Demo","/en.png"),k=("".concat("/React-Photo-Listing-Demo","/ava-empty-login.svg"),"".concat("/React-Photo-Listing-Demo","/login.svg"),"".concat("/React-Photo-Listing-Demo","/logout.svg"),"https://unsplash.com/oauth/authorize?redirect_uri=".concat("https://psywalker.github.io/React-Photo-Listing-Demo/profile","&response_type=code&scope=public+read_user+write_user+read_photos+write_likes+write_photos+write_followers+read_collections+write_collections&client_id=").concat("bba0e5effd29d1c0d0957b57759a6b65f34fe4fece1188a73a4dcee69b53d3a5")),j=function(t){return"".concat("https://api.unsplash.com/","photos/").concat(t.params.id,"?client_id=").concat("bba0e5effd29d1c0d0957b57759a6b65f34fe4fece1188a73a4dcee69b53d3a5")},R=function(t){return"".concat("https://api.unsplash.com/","users/").concat(t.params.id,"?client_id=").concat("bba0e5effd29d1c0d0957b57759a6b65f34fe4fece1188a73a4dcee69b53d3a5")},A=function(t){return"".concat("https://api.unsplash.com/","users/").concat(t,"/statistics")},D=function(t){return"".concat("https://api.unsplash.com/","photos/").concat(t,"/like")},U={legend:{layout:"vertical",align:"right",verticalAlign:"middle"},responsive:{rules:[{condition:{maxWidth:700},chartOptions:{legend:{layout:"horizontal",align:"center",verticalAlign:"bottom"}}}]}},F=(a(300),Object(o.memo)(function(){return r.a.createElement("div",{"data-test":"Logo",className:"logo"},r.a.createElement(I.a,{"data-test":"siteLogoLinkRouter",to:{pathname:"/",state:{flag:!0}}},r.a.createElement("img",{className:"logo__img",src:w,alt:"Images-Listing"})))})),H=a(498),V=a(499),M=a(493),q=a(1),G=a.n(q),B=(a(301),Object(o.memo)(function(t){var e=t.profilePhotoUrl,a=t.profileFullName;return r.a.createElement("div",{className:"user-avatar"},r.a.createElement("div",{className:"user-avatar__name"},a),r.a.createElement("img",{"data-test":"UserAvatar",className:"user-avatar__img",alt:"",src:"".concat(e)}))}));B.propTypes={profilePhotoUrl:G.a.string,profileFullName:G.a.string},B.defaultProps={profilePhotoUrl:"",profileFullName:""};var Q=B,z=(a(302),Object(o.memo)(function(t){var e=t.profileName,a=t.profilePhotoUrl,o=t.handleLoguotHeader,n=t.profileFullName,s=Object(c.b)().t,i=function(t,e,a,o,n){return r.a.createElement("div",null,r.a.createElement(E.a,{"data-test":o,className:t,href:e,onClick:a},n))},l=r.a.createElement(f.a,null,r.a.createElement(g.a,{exact:!0,path:"/profile",component:function(){return r.a.createElement(H.b,null,r.a.createElement(H.b.Item,{key:"0"},i("btn-logout",null,o,"btnLogout",s("logout"))))}}),r.a.createElement(g.a,{path:"*",component:function(){return r.a.createElement(H.b,null,r.a.createElement(H.b.Item,{key:"1"},r.a.createElement(I.a,{"data-test":"linkProfileName",to:"/profile"},s("profile"))),r.a.createElement(H.b.Divider,null),r.a.createElement(H.b.Item,{key:"2"},i("btn-logout",null,o,"btnLogout",s("logout"))))}}),")"),u=r.a.createElement(H.b,null,r.a.createElement(H.b.Item,{key:"3"},i("btn-login",k,null,"btnLogin",s("login")))),d=e?l:u;return r.a.createElement("div",{"data-test":"Dropdown",className:"dropdown"},r.a.createElement(V.a,{overlay:d,trigger:["click"]},r.a.createElement("div",{className:"dropdown__inner"},!e&&r.a.createElement(M.a,{icon:"user"}),e&&r.a.createElement(Q,{profilePhotoUrl:a,profileFullName:n}))))}));z.defaultProps={profilePhotoUrl:"",profileName:"",profileFullName:"",handleLoguotHeader:function(){}};var W=z,Y=a(95),K=function(){return{type:"LOGOUT"}},J=function(t,e){return{type:"FILTER_ITEM_VALUE",itemText:t,itemId:e}},X=function(t,e){return{type:"SEARCH_TEXT",tags:e,text:t}},Z=function(t){return{type:"SEARCH_TEXT_CHANGE_INPUT_VALUE",text:t}},$=(a(314),Y.a.Option),tt=Object(o.memo)(function(){var t=Object(u.c)(),e=(window.navigator.language||window.navigator.userLanguage).includes("ru"),a=e?"ru":"en";e?s.a.changeLanguage("ru"):s.a.changeLanguage("en");return r.a.createElement("div",{"data-test":"selectLanguage",className:"language"},r.a.createElement(Y.a,{defaultValue:a,onChange:function(e){s.a.changeLanguage(e),t({type:"UPDATE_CHARTS_START",isChart:!0})}},r.a.createElement($,{value:"ru"},r.a.createElement("img",{className:"language__img",src:C,alt:"Ru"})),r.a.createElement($,{value:"en"},r.a.createElement("img",{className:"language__img",src:x,alt:"En"}))))}),et=a(35),at=a(36),ot=a(38),rt=a(37),nt=a(39),st=a(497),it=a(90),ct=a.n(it),lt=(a(319),st.a.Search),ut=function(t){function e(){var t,a;Object(et.a)(this,e);for(var o=arguments.length,r=new Array(o),n=0;n<o;n++)r[n]=arguments[n];(a=Object(ot.a)(this,(t=Object(rt.a)(e)).call.apply(t,[this].concat(r)))).componentDidUpdate=function(t){var e=a.props.queryText;t.queryText!==e&&a.setState({inputValue:e})},a.onChangeDebounced=ct()(function(t){(0,a.props.onChangeInputValue)(t)},500),a.submitSearch=function(){var t=a.state.inputValue,e=a.props.onSearchInputValue;t&&e(t)},a.handleInputChange=function(t){a.setState({inputValue:t.target.value},function(){var t=a.state.inputValue;t&&a.onChangeDebounced(t)})};var s=a.props.queryText;return a.state={inputValue:s},a}return Object(nt.a)(e,t),Object(at.a)(e,[{key:"render",value:function(){var t=this.state.inputValue;return r.a.createElement("div",{"data-test":"searchContainer",className:"search"},r.a.createElement(lt,{"data-test":"searchInput",className:"search__input",value:t,placeholder:"Wallpapers",onChange:this.handleInputChange,onPressEnter:this.submitSearch,onSearch:this.submitSearch,style:{width:"100%"}}))}}]),e}(o.PureComponent);ut.defaultProps={queryText:"",onSearchInputValue:function(){},onChangeInputValue:function(){}};var dt=ut,pt=a(500),mt=(a(320),Object(o.memo)(function(t){var e=t.navTopItemActive,a=t.onFilterItemValue,o=t.filters;return r.a.createElement("ul",{className:"nav-top","data-test":"navTop"},o.map(function(t){return r.a.createElement("li",{key:t.id,"data-test":"navTopItem",className:"nav-top__item ".concat(t.border?"nav-top__item_border-right":"")},r.a.createElement(pt.a,{"data-test":"navTopItemTag",color:"".concat(t.id===e?"purple":""),onClick:function(){t.id!==e&&a(t.filterValue,t.id)}},t.label))}))}));mt.propTypes={filters:G.a.arrayOf(G.a.shape({id:G.a.number,label:G.a.string,filterValue:G.a.string})),onFilterItemValue:G.a.func,navTopItemActive:G.a.number},mt.defaultProps={filters:[],navTopItemActive:0,onFilterItemValue:function(){}};var ht=mt,ft=function(t,e){return new URL(t).searchParams.get(e)},gt=(a(321),Object(_.a)(Object(o.memo)(function(t){var e=t.history,a=t.profileName,o=t.profilePhotoUrl,n=t.profileFullName,s=t.logoutAction,i=t.searchTextAction,c=t.searchChangeInputValueAction,l=t.filterItemValueAction,u=t.filters,d=t.cardsData,p=function(t){var a="?search=".concat(t);e.push(a,{})},m=function(t,e){i(t,e),p(t)},h=function(t){c(t),p(t)},f=function(t,e){l(t,e),p(t)},E=function(){var t=d.query,e=ft(window.location,"search"),a=T,o=2;if(e){var r=u.filter(function(t){return t.label.toLowerCase()===e});o=r.length?r[0].id:null,a=t}return{queryText:a,navTopItemActive:o}}();return r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"header__inner"},r.a.createElement("div",{className:"header__item"},r.a.createElement("div",{className:"header__logo"},r.a.createElement(F,null),r.a.createElement(g.a,{"data-test":"btnBackRoute",path:"/:id",component:function(){return r.a.createElement(O,{"data-test":"btnBack",style:{marginLeft:"10px"}})}})),r.a.createElement(g.a,{exact:!0,path:"/",component:function(){return r.a.createElement(dt,{"data-test":"search",onSearchInputValue:m,onChangeInputValue:h,queryText:E.queryText})}}),r.a.createElement(tt,null),r.a.createElement(W,{profileName:a,profileFullName:n,profilePhotoUrl:o,handleLoguotHeader:function(){s(),window.localStorage.removeItem("token"),e.push("/")}})),r.a.createElement(g.a,{exact:!0,path:"/",component:function(){return r.a.createElement("div",{className:"header__item"},r.a.createElement(ht,{"data-test":"navTop",navTopItemActive:E.navTopItemActive,onFilterItemValue:f,filters:u}))}})))})));gt.defaultProps={history:{},logoutAction:function(){},profilePhotoUrl:"",profileName:"",profileEmail:"",fetching:!1};var Et={logoutAction:K,searchTextAction:X,searchChangeInputValueAction:Z,filterItemValueAction:J},bt=Object(m.withLastLocation)(Object(u.b)(function(t){var e=t.login,a=t.photolisting;return Object(N.a)({},e,a)},Et)(gt)),_t=(a(322),Object(o.memo)(function(){return r.a.createElement("div",{"data-test":"spinnerContainer",className:"site-spinner"},r.a.createElement("div",{"data-test":"spinnerInner",className:"lds-ring"},r.a.createElement("div",{"data-test":"spinnerInnerItem"},"\xa0"),r.a.createElement("div",{"data-test":"spinnerInnerItem"},"\xa0"),r.a.createElement("div",{"data-test":"spinnerInnerItem"},"\xa0"),r.a.createElement("div",{"data-test":"spinnerInnerItem"},"\xa0")))})),vt=(a(323),Object(o.memo)(function(){return r.a.createElement("div",{"data-test":"spinnerPhotoContainer",className:"spinner-photo"},r.a.createElement("div",{"data-test":"spinnerPhotoInner",className:"lds-ring"},r.a.createElement("div",{"data-test":"spinnerPhotoInnerItem"},"\xa0"),r.a.createElement("div",{"data-test":"spinnerPhotoInnerItem"},"\xa0"),r.a.createElement("div",{"data-test":"spinnerPhotoInnerItem"},"\xa0"),r.a.createElement("div",{"data-test":"spinnerPhotoInnerItem"},"\xa0")))})),Ot=a(125),Nt=a(224),It=a(225),Tt=a.n(It),Lt=a(494),St=a(43),Pt=a.n(St),yt=(a(178),a(126)),wt=a.n(yt),Ct=Object(o.memo)(function(t){var e=t.lastUpdateInfo,a=t.photoDesc,o=t.views,n=t.downloads,s=t.likes,i=t.cameraMake,l=t.focalLength,u=t.aperture,d=t.shutterspeed,p=t.iso,m=t.cameraModel,h=t.width,f=t.height,g=Object(c.b)().t,E=function(t){return Pt()(t).format("LL")}(e),_=function(t){return wt()(t).format("0,0")}(o),v=function(t){return wt()(t).format("0,0")}(n),O=function(t){return wt()(t).format("0,0")}(s),N=r.a.createElement("header",{"data-test":"photoInfoHeader",className:"photo-info__header"},r.a.createElement("h2",{"data-test":"photoInfoTitle",className:"photo-info__title"},g("photoInfo.info")),a&&r.a.createElement("p",{className:"photo-info__desc"},r.a.createElement("i",null,r.a.createElement("b",{"data-test":"photoInfoDesc"},a))),r.a.createElement("p",{"data-test":"photoInfoDate",className:"photo-info__date"},g("photoInfo.published")," ",E)),I=r.a.createElement("div",{"data-test":"photoInfoContent",className:"photo-info__content"},r.a.createElement("ul",{"data-test":"photoInfoListHead",className:"photo-info__list-head photo-info-list-head"},r.a.createElement("li",{"data-test":"photoInfoListHeadItem",className:"photo-info-list-head__item"},r.a.createElement("h3",{"data-test":"photoInfoListHeadTitle",className:"photo-info-list-head__title"},r.a.createElement(b.a,{type:"eye"})," ",g("photoInfo.views")),r.a.createElement("p",{"data-test":"photoInfoListHeadTextMain",className:"photo-info-list-head__text-main"},_),r.a.createElement("p",{"data-test":"photoInfoListHeadText",className:"photo-info-list-head__text"},"")),r.a.createElement("li",{"data-test":"photoInfoListHeadItem",className:"photo-info-list-head__item"},r.a.createElement("h3",{"data-test":"photoInfoListHeadTitle",className:"photo-info-list-head__title"},r.a.createElement(b.a,{type:"arrow-down"})," ",g("photoInfo.downloads")),r.a.createElement("p",{"data-test":"photoInfoListHeadTextMain",className:"photo-info-list-head__text-main"},v),r.a.createElement("p",{"data-test":"photoInfoListHeadText",className:"photo-info-list-head__text"},"")),r.a.createElement("li",{"data-test":"photoInfoListHeadItem",className:"photo-info-list-head__item"},r.a.createElement("h3",{"data-test":"photoInfoListHeadTitle",className:"photo-info-list-head__title"},r.a.createElement(b.a,{type:"heart"})," ",g("photoInfo.likes")),r.a.createElement("p",{"data-test":"photoInfoListHeadTextMain",className:"photo-info-list-head__text-main"},O),r.a.createElement("p",{"data-test":"photoInfoListHeadText",className:"photo-info-list-head__text"},""))),r.a.createElement(Lt.a,null),r.a.createElement("ul",{"data-test":"photoInfoListContent",className:"photo-info-list photo-info__list-content"},r.a.createElement("li",{"data-test":"photoInfoListItem",className:"photo-info-list__item"},r.a.createElement("h3",{"data-test":"photoInfoListTitle",className:"photo-info-list__title"},g("photoInfo.cameraMake")),r.a.createElement("p",{"data-test":"photoInfoListText",className:"photo-info-list__text"},i||"--")),r.a.createElement("li",{"data-test":"photoInfoListItem",className:"photo-info-list__item"},r.a.createElement("h3",{"data-test":"photoInfoListTitle",className:"photo-info-list__title"},g("photoInfo.cameraModel")),r.a.createElement("p",{"data-test":"photoInfoListText",className:"photo-info-list__text"},m||"--")),r.a.createElement("li",{"data-test":"photoInfoListItem",className:"photo-info-list__item"},r.a.createElement("h3",{"data-test":"photoInfoListTitle",className:"photo-info-list__title"},g("photoInfo.focalLength")),r.a.createElement("p",{"data-test":"photoInfoListText",className:"photo-info-list__text"},l||"--")),r.a.createElement("li",{"data-test":"photoInfoListItem",className:"photo-info-list__item"},r.a.createElement("h3",{"data-test":"photoInfoListTitle",className:"photo-info-list__title"},g("photoInfo.aperture")),r.a.createElement("p",{"data-test":"photoInfoListText",className:"photo-info-list__text"},u||"--")),r.a.createElement("li",{"data-test":"photoInfoListItem",className:"photo-info-list__item"},r.a.createElement("h3",{"data-test":"photoInfoListTitle",className:"photo-info-list__title"},g("photoInfo.shutterSpeed")),r.a.createElement("p",{"data-test":"photoInfoListText",className:"photo-info-list__text"},d||"--")),r.a.createElement("li",{"data-test":"photoInfoListItem",className:"photo-info-list__item"},r.a.createElement("h3",{"data-test":"photoInfoListTitle",className:"photo-info-list__title"},g("photoInfo.iso")),r.a.createElement("p",{"data-test":"photoInfoListText",className:"photo-info-list__text"},p||"--")),r.a.createElement("li",{"data-test":"photoInfoListItem",className:"photo-info-list__item"},r.a.createElement("h3",{"data-test":"photoInfoListTitle",className:"photo-info-list__title"},g("photoInfo.dimensions")),r.a.createElement("p",{"data-test":"photoInfoListText",className:"photo-info-list__text"},h&&f?"".concat(h," x ").concat(f):"--"))));return r.a.createElement("div",{"data-test":"photoInfo",className:"photo-info"},N,I)});Ct.defaultProps={lastUpdateInfo:"",photoDesc:"",views:0,downloads:0,likes:0,cameraMake:"",focalLength:"",aperture:"",shutterspeed:"",iso:0,cameraModel:"",width:0,height:0};var xt=Ct,kt=(a(331),Object(o.memo)(function(t){var e=Object(Nt.a)({},t),a=Object(c.b)().t,n=Object(o.useState)(!1),s=Object(Ot.a)(n,2),i=s[0],l=s[1];return r.a.createElement("div",{"data-test":"photoInfoWrap",className:"photo-info-wrap"},r.a.createElement(E.a,{"data-test":"openModalBtn",style:{marginLeft:"10px"},onClick:function(){return l(!0)}},r.a.createElement(b.a,{"data-test":"openModalBtnIcon",type:"info-circle"}),a("photoInfo.views")),r.a.createElement(Tt.a,{"data-test":"modal",visible:i,effect:"fadeInDown",onClickAway:function(){return l(!1)},className:"modal"},r.a.createElement(xt,e)))})),jt=(a(332),Object(o.memo)(function(t){var e=t.text,a=t.smallErrorFlag;return r.a.createElement("div",{"data-test":"error",className:"".concat(a?"error error_small-list":"error ")},r.a.createElement("div",{"data-test":"errorContent",className:"error__content"},r.a.createElement("div",{"data-test":"errorContentInner",className:"error__content-inner"},r.a.createElement("h3",{"data-test":"errorTitle",className:"error__title"},l.t("errors.oops")),r.a.createElement("h2",{"data-test":"erroSubtitle",className:"error__subtitle"},e)," ",r.a.createElement(I.a,{to:"/","data-test":"errorLinkRouter"},r.a.createElement(E.a,{"data-test":"errorButton",style:{marginLeft:"10px"}},l.t("errors.goBackHome"))))),r.a.createElement("img",{"data-test":"errorBgImg",alt:e,src:"".concat(y),className:"error__bg"}))}));jt.propTypes={text:G.a.string,smallErrorFlag:G.a.bool},jt.defaultProps={text:"",smallErrorFlag:!1};var Rt=jt,At=a(226),Dt=a.n(At),Ut=a(227),Ft=(a(334),function(t){return e=t,[{title:l.t("chartsConfig.myDownloads"),seriesName:l.t("chartsConfig.seriesNameDownloads"),colors:"rgba(255, 0, 255, .5)"},{title:l.t("chartsConfig.myViews"),seriesName:l.t("chartsConfig.seriesNameViews"),colors:"rgba(255, 165, 0, .5)"},{title:l.t("chartsConfig.myLikes"),seriesName:l.t("chartsConfig.seriesNameLikes"),colors:"rgba(0, 255, 0, .5)"}][e];var e}),Ht=function(t){var e=t.config,a=t.configNum,o=s.a.language.includes("ru"),n=function(t,e){return Object(N.a)({chart:{type:"area"},colors:[t.colors],title:{text:t.title},xAxis:{categories:e.dates},yAxis:{title:{text:l.t("chartsConfig.yAxisTitle")}},plotOptions:{area:{stacking:"normal",lineColor:t.colors,lineWidth:1,marker:{lineWidth:6,lineColor:t.colors}}},series:[{name:t.seriesName,data:e.values}]},U)}(Ft(a),e),i=n.xAxis.categories,c=[];c=o?i.map(function(t){return Pt()(new Date(t)).locale("ru",Ut.localization).format("DD MMMM YYYY")}):i.map(function(t){return Pt()(new Date(t)).format("DD MMMM YYYY")}),n.xAxis.categories=c;var d=Object(u.c)();return r.a.createElement(Dt.a,{"data-test":"highchartsContainer",config:n,callback:function(){2===a&&d({type:"UPDATE_CHARTS_END",isChart:!1})}})};Ht.defaultProps={config:{},configNum:0};var Vt=Ht,Mt=a(122),qt=a.n(Mt),Gt=a(496),Bt=(a(444),function(t){function e(){var t,a;Object(et.a)(this,e);for(var o=arguments.length,r=new Array(o),n=0;n<o;n++)r[n]=arguments[n];return(a=Object(ot.a)(this,(t=Object(rt.a)(e)).call.apply(t,[this].concat(r)))).componentDidMount=function(){var t=a.props,e=t.userId,o=t.page,r=t.perPage,n=t.name,s=t.itemNum;(0,t.smallPhotoListingRequestAction)(e,o,r,n,s)},a.handlePaginationChange=function(t){var e=a.props,o=e.userId,r=e.perPage;(0,e.smallPhotoListingRequestAction)(o,t,r,e.name,e.itemNum)},a}return Object(nt.a)(e,t),Object(at.a)(e,[{key:"render",value:function(){var t=this.props,e=t.isSmallPhotoListingFetching,a=t.totalCards,o=t.page,n=t.perPage,s=t.cards,i=t.requestError,c=s.map(function(t){return r.a.createElement("li",{"data-test":"smallPhotoListingListItem",className:"small-photo-listing-list__item",key:t.photoID},r.a.createElement(I.a,{"data-test":"smallPhotoListingListLinkPhotoRouter",className:"small-photo-listing-list__link-photo",to:"/photo/".concat(t.photoID)},r.a.createElement("img",{"data-test":"smallPhotoListingListPhoto",className:"small-photo-listing-list__photo",alt:"example",src:t.photoUrl})))});return r.a.createElement("div",{"data-test":"smallPhotoListingContainer",className:"small-photo-listing-container"},e&&r.a.createElement(_t,{"data-test":"spinner"}),!e&&!i&&r.a.createElement("div",{"data-test":"smallPhotoListing",className:"small-photo-listing"},r.a.createElement(qt.a,{"data-test":"smallPhotoListingList",className:"small-photo-listing-list",elementType:"ul",disableImagesLoaded:!1,updateOnEachImageLoad:!1},c),r.a.createElement("div",{"data-test":"paginationContainer",className:"small-photo-listing__pagination"},a>n&&r.a.createElement(Gt.a,{"data-test":"pagination",className:"ml-3 mb-5",onChange:this.handlePaginationChange,hideOnSinglePage:!0,current:o,defaultCurrent:1,total:a,pageSize:6}))),!e&&i&&r.a.createElement(Rt,{"data-test":"error",smallErrorFlag:!0,text:"Sorry, an error occurred during the request. Try again later."}))}}]),e}(o.PureComponent));Bt.defaultProps={isSmallPhotoListingFetching:!0,cards:[],itemNum:0,totalCards:10,page:1,perPage:6,name:"photos",smallPhotoListingRequestAction:function(){},requestError:!1,history:{},userId:""};var Qt={smallPhotoListingRequestAction:function(t,e,a,o,r){return{type:"SMALL_PHOTO_LISTING_FETCHING",isSmalPhotoListingFetching:!0,userId:t,page:e,perPage:a,name:o,itemNum:r}}},zt=Object(u.b)(function(t,e){return t.smallphotolisting[e.itemNum]},Qt)(Bt),Wt=Object(o.memo)(function(t){var e=t.handleMethod;return t.tags.map(function(t){return r.a.createElement(pt.a,{key:t.title,onClick:function(){return e(t.title,"tags")},className:"tag","data-test":"tag"},t.title)})});Wt.propTypes={handleMethod:G.a.func,tags:G.a.arrayOf(G.a.object)},Wt.defaultProps={handleMethod:function(){},tags:[]};var Yt=Wt,Kt=a(96),Jt=a(228),Xt=a.n(Jt),Zt=(a(446),Object(o.memo)(function(t){var e=t.photoID,a=t.photoAltDesc,o=t.photoName;return r.a.createElement("div",{className:"photo-card-list__img photo-card-img"},r.a.createElement(I.a,{"data-test":"photoCardPhotoLink",to:"/photo/".concat(e),className:"photo-card-img__link"},r.a.createElement("img",{"data-test":"photoCardImg",className:"photo-card-img__photo",alt:a,src:o})))}));Zt.propTypes={photoID:G.a.string,photoAltDesc:G.a.string,photoName:G.a.string},Zt.defaultProps={photoID:"",photoAltDesc:"",photoName:""};var $t=Zt,te=a(495),ee=(a(447),Object(o.memo)(function(t){var e=t.onSearchTagValue,a=t.tags,o=function(t){return t.length<4?t:t.slice(0,3)}(a),n=function(t){return t.length>3&&t.slice(3)}(a);return r.a.createElement("div",{className:"photo-card-list__tags photo-card-tags","data-test":"photoCardTags"},r.a.createElement(Yt,{"data-test":"photoCardTagMainContainer",handleMethod:e,tags:o}),n&&r.a.createElement(te.a,{"data-test":"photoCardPopover",placement:"top",title:"Remaining tags",content:r.a.createElement(Yt,{"data-test":"photoCardTagPopup",handleMethod:e,tags:n}),trigger:"click"},r.a.createElement(pt.a,{"data-test":"photoCardTagMore",className:"photo-card-tags__tag"},"more tags...")))}));ee.defaultProps={onSearchTagValue:function(){},tags:[]};var ae=ee,oe=(a(448),Object(o.memo)(function(t){var e=t.userID,a=t.userAvatar,o=t.title;return r.a.createElement("div",{"data-test":"photoCardAutor",className:"photo-card-list__autor photo-card-autor"},r.a.createElement(I.a,{"data-test":"photoCardAutorLink",className:"photo-card-autor__link",to:"/users/".concat(e)},r.a.createElement("img",{"data-test":"photoCardAutorAvatar",className:"photo-card-autor__avatar",alt:e,src:a}),r.a.createElement("span",{"data-test":"photoCardAutorName",className:"photo-card-autor__name"},o)))}));oe.propTypes={userID:G.a.string,userAvatar:G.a.string,title:G.a.string},oe.defaultProps={userID:"",userAvatar:"",title:""};var re=oe,ne=(a(449),Object(o.memo)(function(t){var e=t.photoID,a=Object(o.useState)(!1),n=Object(Ot.a)(a,2),s=n[0],i=n[1],c=Object(u.c)();window.localStorage.getItem(e)&&!s&&i(!0);var l=function(t,e,a,o){return r.a.createElement(E.a,{"data-test":"likesButton",className:"likes-button__btn",onClick:function(){i(t),e()},style:{backgroundColor:a}},r.a.createElement(b.a,{className:"likes-button__icon",type:"heart",theme:"filled",style:{color:o}}))};return r.a.createElement("div",{"data-test":"likesButtonContainer",className:"likes-button"},s&&l(!1,function(){c({type:"PHOTO_UNLIKE",photoId:e}),window.localStorage.removeItem(e)},"red","#fff"),!s&&l(!0,function(){c({type:"PHOTO_LIKE",photoId:e}),window.localStorage.setItem(e,!0)},"#fff","red"))}));ne.defaultProps={photoID:""};var se=ne,ie=a(229),ce=function(){var t="image.jpg";if(arguments.length)for(var e=0;e<arguments.length;e+=1){var a=e<0||arguments.length<=e?void 0:arguments[e];if(a){t=a[0].toUpperCase()+a.slice(1).replace(/\s/g,"-");break}}return t},le=(a(450),Object(o.memo)(function(t){var e=t.altDescriprion,a=t.photoDesc,o=t.photoSrc,n=t.textButton,s=void 0===n?null:n;return r.a.createElement("div",{"data-test":"downloadButtonContainer",className:"download-button"},r.a.createElement(E.a,{"data-test":"downloadButton",className:"download-button__btn",onClick:function(){var t=ce(e,a);Object(ie.saveAs)(o,t)}},r.a.createElement(b.a,{"data-test":"downloadButtonIcon",className:"download-button__icon",type:"download"}),s&&r.a.createElement("div",{className:"download-button__text"},s)))}));le.defaultProps={altDescriprion:"",photoDesc:"",photoSrc:"",textButton:""};var ue=le,de=(a(451),Object(o.memo)(function(t){var e=t.onSearchTagValue,a=t.item,o=Object(u.d)(function(t){return t.login}).profileName;return r.a.createElement("li",{className:"photo-card-list-item photo-card-list__item"},r.a.createElement(re,{userID:a.userID,userAvatar:a.userAvatar,title:a.title}),o&&r.a.createElement(se,{photoID:a.photoID}),r.a.createElement($t,{photoID:a.photoID,photoAltDesc:a.photoAltDesc,photoName:a.photoName}),r.a.createElement(ae,{onSearchTagValue:e,tags:a.tags}),r.a.createElement(ue,{altDescriprion:a.photoAltDesc,photoDesc:a.photoDesc,photoSrc:a.photoName}))}));de.defaultProps={onSearchTagValue:function(){},item:{}};var pe=de,me=(a(452),Object(o.memo)(function(){return r.a.createElement("div",{"data-test":"spinnerContainer",className:"photocard-spinner"},r.a.createElement("div",{className:"sk-circle-bounce"},r.a.createElement("div",{className:"sk-child sk-circle-1"}),r.a.createElement("div",{className:"sk-child sk-circle-2"}),r.a.createElement("div",{className:"sk-child sk-circle-3"}),r.a.createElement("div",{className:"sk-child sk-circle-4"}),r.a.createElement("div",{className:"sk-child sk-circle-5"}),r.a.createElement("div",{className:"sk-child sk-circle-6"}),r.a.createElement("div",{className:"sk-child sk-circle-7"}),r.a.createElement("div",{className:"sk-child sk-circle-8"}),r.a.createElement("div",{className:"sk-child sk-circle-9"}),r.a.createElement("div",{className:"sk-child sk-circle-10"}),r.a.createElement("div",{className:"sk-child sk-circle-11"}),r.a.createElement("div",{className:"sk-child sk-circle-12"})))})),he=(a(453),Object(o.memo)(function(t){var e=t.onSearchTagValue,a=t.getPaginationChange,o=t.cards,n=t.totalCards;return r.a.createElement(Xt.a,{pageStart:0,"data-test":"photoCardList",initialLoad:!1,threshold:0,loadMore:a,loader:n>o.length?r.a.createElement(me,{key:"spinner"}):null,hasMore:n>o.length},r.a.createElement(qt.a,{className:"photo-card-list",elementType:"ul",disableImagesLoaded:!1,updateOnEachImageLoad:!1},o.map(function(t){return r.a.createElement(pe,{key:t.photoID,"data-test":"photoCard",onSearchTagValue:e,getPaginationChange:a,item:t})})))}));he.propTypes={onSearchTagValue:G.a.func,getPaginationChange:G.a.func,cards:G.a.arrayOf(G.a.object),totalCards:G.a.number},he.defaultProps={onSearchTagValue:function(){},getPaginationChange:function(){},cards:[],totalCards:0};var fe=he,ge=function(t){var e=window.document.querySelector("body");e.style.overflowY="scroll",t||(e.style.overflowY="auto")},Ee=(a(454),a(455),function(t){function e(){var t,a;Object(et.a)(this,e);for(var o=arguments.length,r=new Array(o),n=0;n<o;n++)r[n]=arguments[n];return(a=Object(ot.a)(this,(t=Object(rt.a)(e)).call.apply(t,[this].concat(r)))).state={page:1,cards:[]},a.componentDidUpdate=function(t){var e=a.props,o=e.cardsData,r=e.handle\u0421ardsPhotosAction,n=e.location.state,s=e.history.push,i=e.isListingLoading,c=e.searchTextAction,l=a.state.cards,u=a.props.cards;if(t.cards!==u){var d=[].concat(Object(Kt.a)(l),Object(Kt.a)(u));return a.setState({cards:d})}return t.cardsData===o||i?(n&&n.flag&&o.query!==T&&!i&&(s("",{}),a.setState({page:1,cards:[]},function(){c(T,"tags")})),!1):(r(Object(N.a)({},o,{page:1})),a.setState({page:1,cards:[]}))},a.componentDidMount=function(){var t=a.props,e=t.match.params.tag,o=t.searchTextAction,r=ft(window.location,"search");return e?o(e,"tags"):r?o(r,"tags"):a.getCardsPhotos()},a.getCardsPhotos=function(){var t=a.props,e=t.cardsData;(0,t.handle\u0421ardsPhotosAction)(e)},a.getPaginationChange=function(){var t=a.props,e=t.handle\u0421ardsPhotosAction,o=t.cardsData,r=t.isListingLoading,n=a.state.page;r||(e(Object(N.a)({},o,{page:n+1})),a.setState({page:n+1}))},a.getSearchText=function(t,e){(0,a.props.searchTextAction)(t,e),a.handleUrl(t)},a}return Object(nt.a)(e,t),Object(at.a)(e,[{key:"render",value:function(){var t=this.props,e=t.totalCards,a=t.photolistingRequestError,o=t.errorRateLimit,n=void 0===o?"":o,s=t.t,i=this.state.cards,c="Rate Limit Exceeded"===n;return ge(e),c?r.a.createElement("div",{className:"error-text","data-test":"errorText"},s("errors.increasedNumberDownloads")):a?r.a.createElement("div",{className:"error-text","data-test":"errorText"},s("errors.errorLoadingPhotolisting")):r.a.createElement("div",{className:"App"},r.a.createElement(fe,{"data-test":"photoCard",onSearchTagValue:this.getSearchText,getPaginationChange:this.getPaginationChange,cards:i,totalCards:e}),!e&&r.a.createElement("div",{className:"cards__text-empty","data-test":"cardsTextEmpty"},s("errors.imagesNotFound")))}}]),e}(o.PureComponent));Ee.defaultProps={"handle\u0421ardsPhotosAction":function(){},searchTextAction:function(){},cards:[],cardsData:{query:"wallpapers",page:1,per_page:6},totalCards:0,photolistingRequestError:!1,match:{params:{tag:""}},isListingLoading:!1,location:{},history:{},errorRateLimit:""};var be={"handle\u0421ardsPhotosAction":function(t){return{type:"CARDS_PHOTOS_FETCHING",isListingLoading:!0,cardsData:t}},paginationChangeAction:function(t){return{type:"PAGINATION_CHANGE",page:t}},filterItemValueAction:J,searchTextAction:X,searchChangeInputValueAction:Z},_e=Object(c.c)()(Object(u.b)(function(t){return t.photolisting},be)(Ee)),ve=a(501),Oe=a(230),Ne=a.n(Oe),Ie=function(t,e,a){if(!t.isSuccessPhotoRequest){var o=t.widthPhoto,r=t.heightPhoto,n=e-2,s=a-147-53,i=0,c=0;if(o>r)return i=Math.floor(o/n),(c=Math.floor(r/i))>s?{photoWidth:"auto",photoHeight:"".concat(s-60,"px")}:{photoWidth:"auto",photoHeight:"".concat(c-60,"px")};if(r>o)return c=Math.floor(r/s),(i=Math.floor(o/c))>n?{photoWidth:"".concat(n-60,"px"),photoHeight:"auto"}:{photoWidth:"".concat(i-60,"px"),photoHeight:"auto"}}return{photoWidth:"300px",photoHeight:"auto"}},Te=(a(460),function(t){function e(t){var a;return Object(et.a)(this,e),(a=Object(ot.a)(this,Object(rt.a)(e).call(this,t))).componentDidMount=function(){var t=a.props,e=t.match;(0,t.photoRequestAction)(e),a.setPhotoSize(),window.addEventListener("resize",a.setPhotoSize)},a.componentDidUpdate=function(t){var e=a.props.widthPhoto;t.widthPhoto!==e&&a.setPhotoSize()},a.componentWillUnmount=function(){window.removeEventListener("resize",a.setPhotoSize)},a.setPhotoSize=function(){var t=a.photoContainer.current.offsetWidth,e=window.document.documentElement.clientHeight,o=Ie(a.props,t,e);a.setState({photoWidth:o.photoWidth,photoHeight:o.photoHeight})},a.state={photoWidth:null,photoHeight:null},a.photoContainer=r.a.createRef(),a}return Object(nt.a)(e,t),Object(at.a)(e,[{key:"render",value:function(){var t=this.state,e=t.photoWidth,a=t.photoHeight,o=this.props,n=o.info,s=o.userFirstName,i=o.userLastName,c=o.userName,l=o.twitterName,u=o.photoProfile,d=o.tags,p=o.altDescriprion,m=o.photoSrc,h=o.isPhotoLoading,f=o.requestError,g=o.isSuccessPhotoRequest,_=o.photoImageLoadAction,v=o.t,O={width:e,height:a};return ge(0),r.a.createElement("div",{"data-test":"photoContainer",className:"photo-container photo",id:"photo-container",ref:this.photoContainer},!g&&!f&&r.a.createElement(ve.a,{"data-test":"photoCard",title:r.a.createElement(I.a,{"data-test":"photoTwitterLinkRouter",to:"/users/".concat(c)},r.a.createElement("div",{"data-test":"photoTwitter",className:"photo__twitter photo-twitter"},r.a.createElement("img",{"data-test":"photoTwitterAvatar",src:u,alt:"Avatar",className:"photo-twitter__ava"}),r.a.createElement("div",{"data-test":"photoTwitterContent",className:"photo-twitter__content"},r.a.createElement("p",{"data-test":"photoTwitterUserName",className:"photo-twitter__user-name"},"".concat(s," ").concat(i)),r.a.createElement("p",{"data-test":"photoTwitterName",className:"photo-twitter__twitter-name"},"@",l)))),extra:r.a.createElement(ue,{photoDesc:n.photoDesc,altDescriprion:p,photoSrc:m,textButton:v("download")}),style:{width:"100%",height:"100%",padding:0},bodyStyle:{padding:0},headStyle:{padding:"0 10px"}},r.a.createElement("div",{"data-test":"photoContent",className:"photo__content photo-content"},h&&r.a.createElement(vt,{"data-test":"photoSpinner"}),r.a.createElement(Ne.a,{"data-test":"photoImageZoom",defaultStyles:{overlay:{background:"rgba(0, 0, 0, .8)"}},image:{"data-test":"photoImageZoomImg",src:m,alt:p,className:"photo-content__photo",style:O,onLoad:_},zoomImage:{src:m,alt:p}}),r.a.createElement("div",{"data-test":"photoFooter",className:"photo-content__footer photo-footer"},r.a.createElement("div",{"data-test":"photoFooterTags",className:"photo-footer__tags"},d.length&&r.a.createElement(te.a,{"data-test":"photoPopover",placement:"topLeft",title:v("allTags"),content:r.a.createElement("div",null,d.map(function(t){return r.a.createElement(I.a,{"data-test":"photoTagLinkRouter",to:"/".concat(t.title),key:t.title},r.a.createElement(pt.a,{"data-test":"photoTag",key:t.title},t.title))})),trigger:"click"},r.a.createElement(E.a,{"data-test":"photoPopoverButton",style:{marginLeft:"10px"},href:"#"},r.a.createElement(b.a,{type:"tag","data-test":"photoPopoverButtonIcon"}),v("showAllTags")))),r.a.createElement("div",{"data-test":"photoFooterBtns",className:"photo-footer__btns"},r.a.createElement(E.a,{"data-test":"photoFooterBtnsBtn",style:{marginLeft:"10px"},href:"#"},r.a.createElement(b.a,{type:"share-alt"}),v("share")),r.a.createElement(kt,Object.assign({"data-test":"photoInfoPhotoModal"},n)))))),!h&&!g&&f&&r.a.createElement(Rt,{"data-test":"photoError",text:v("errors.photoNotFound")}))}}]),e}(o.Component));Te.defaultProps={photoImageLoadAction:function(){},photoRequestAction:function(){},info:{},userFirstName:"",userLastName:"",userName:"",twitterName:"",photoProfile:"",tags:[],altDescriprion:"",photoSrc:"",widthPhoto:300,heightPhoto:300,isPhotoLoading:!0,isSuccessPhotoRequest:!0,requestError:!1,match:{},history:{},t:function(){}};var Le={photoRequestAction:function(t){return{type:"PHOTO_FETCHING",isPhotoLoading:!0,match:t}},photoImageLoadAction:function(){return{type:"PHOTO_IMAGE_LOAD"}}},Se=Object(c.c)()(Object(u.b)(function(t){return t.photo},Le)(Te)),Pe=(a(468),function(t){function e(){var t,a;Object(et.a)(this,e);for(var o=arguments.length,r=new Array(o),n=0;n<o;n++)r[n]=arguments[n];return(a=Object(ot.a)(this,(t=Object(rt.a)(e)).call.apply(t,[this].concat(r)))).componentDidMount=function(){a.props.profilePhotoUrl||(0,a.props.loadingRequestAction)(window.document.location)},a.handleLoguotProfile=function(){var t=a.props,e=t.history;(0,t.logoutAction)(),window.localStorage.removeItem("token"),e.push("/")},a}return Object(nt.a)(e,t),Object(at.a)(e,[{key:"render",value:function(){var t=this.props,e=t.fetching,a=t.loginError,o=t.profilePhotoUrl,n=t.profileFullName,s=t.profileEmail,i=t.profileName,c=t.t;return ge(0),r.a.createElement("div",{"data-test":"profile",className:"profile"},e&&r.a.createElement(_t,{"data-test":"spinner",className:"spinner"}),!e&&!a&&r.a.createElement("div",{"data-test":"profileContent",className:"profile__content profile-content"},r.a.createElement("img",{"data-test":"profileContentAvatar",className:"profile-content__avatar",src:o,alt:c("profileAvatar")}),r.a.createElement("div",{"data-test":"profileContentTitleWrap",className:"profile-content__title-wrap"},r.a.createElement("h2",{"data-test":"profileContentTitle",className:"profile-content__title"},n),r.a.createElement("p",{"data-test":"profileContentEmail"},s),r.a.createElement("p",{"data-test":"profileContentText",className:"profile-content__text"},c("profileDesc")," ",i))),!e&&a&&r.a.createElement(Rt,{"data-test":"error",text:c("authorizationFailed")}))}}]),e}(o.PureComponent));Pe.defaultProps={logoutAction:function(){},loadingRequestAction:function(){},profilePhotoUrl:"",profileFullName:"",profileName:"",profileEmail:"",fetching:!1,loginError:!1,history:{},t:function(){}};var ye={loadingRequestAction:function(t){return{type:"LOGIN_FETCHING",fetching:!0,location:t}},logoutAction:K},we=Object(c.c)()(Object(u.b)(function(t){return t.login},ye)(Pe)),Ce=a(160),xe=a(85),ke=a(46),je=(a(469),Ce.a.TabPane),Re=function(t){function e(){var t,a;Object(et.a)(this,e);for(var o=arguments.length,r=new Array(o),n=0;n<o;n++)r[n]=arguments[n];return(a=Object(ot.a)(this,(t=Object(rt.a)(e)).call.apply(t,[this].concat(r)))).componentDidMount=function(){var t=a.props,e=t.match;(0,t.userRequestAction)(e)},a}return Object(nt.a)(e,t),Object(at.a)(e,[{key:"render",value:function(){var t=this.props,e=t.match,a=t.isUserFetching,o=t.userPhoto,n=t.userFirstPhoto,s=t.requestError,i=t.t;return r.a.createElement("div",{"data-test":"userContainer",className:"user-container"},a&&r.a.createElement(_t,{"data-test":"spinner"}),!a&&!s&&r.a.createElement(r.a.Fragment,null,r.a.createElement(xe.a,{style:{display:"flex",justifyContent:"center"}},r.a.createElement(ke.a,null,r.a.createElement("img",{"data-test":"userAvatar",className:"user-card__first-img",alt:i("userAvatar"),src:n}),r.a.createElement("div",{"data-test":"userCardPhotoWrap",className:"user-card__photo-wrap"},r.a.createElement(M.a,{"data-test":"userCardPhotoAvatar",size:150,src:o})))),r.a.createElement(xe.a,{style:{display:"flex",justifyContent:"center",overflow:"hidden"}},r.a.createElement(ke.a,null,r.a.createElement("div",{"data-test":"userTabs",className:"user-tabs"},r.a.createElement(Ce.a,{"data-test":"userTabsItem",className:"user-tabs__item",defaultActiveKey:"1"},r.a.createElement(je,{tab:i("userTabs.myPhotos"),key:"1",className:"user-tabs__pane"},r.a.createElement(zt,{"data-test":"smallPhotoListing",userId:e.params.id,itemNum:0,name:"photos"})),r.a.createElement(je,{tab:i("userTabs.myLikes"),key:"2",className:"user-tabs__pane"},r.a.createElement(zt,{"data-test":"smallPhotoListing",userId:e.params.id,itemNum:1,name:"likes"})),r.a.createElement(je,{tab:i("userTabs.myStatistic"),key:"3",className:"user-tabs__pane"},r.a.createElement(He,{"data-test":"userStatistic",userId:e.params.id}))))))),!a&&s&&r.a.createElement(Rt,{"data-test":"photoError",text:i("userNotFound")}))}}]),e}(o.PureComponent);Re.defaultProps={isUserFetching:!0,userPhoto:"",userFirstPhoto:"",userRequestAction:function(){},requestError:!1,history:{},match:{params:{id:""}},t:function(){}};var Ae={userRequestAction:function(t){return{type:"USER_FETCHING",isUserFetching:!0,match:t}}},De=Object(c.c)()(Object(u.b)(function(t){return t.user},Ae)(Re)),Ue=(a(470),function(t){function e(){var t,a;Object(et.a)(this,e);for(var o=arguments.length,r=new Array(o),n=0;n<o;n++)r[n]=arguments[n];return(a=Object(ot.a)(this,(t=Object(rt.a)(e)).call.apply(t,[this].concat(r)))).componentDidMount=function(){var t=a.props.userId;(0,a.props.userStatistingRequestAction)(t)},a.componentDidUpdate=function(t){var e=t.isChart,o=a.props,r=o.chartData,n=o.isChart,s=a.state.chartData;JSON.stringify(s)!==JSON.stringify(r)&&a.setState({chartData:r}),e!==n&&n&&a.setState({chartData:Object(Kt.a)(s)})},a.state={chartData:[]},a}return Object(nt.a)(e,t),Object(at.a)(e,[{key:"render",value:function(){var t=this.props,e=t.isListingLoading,a=t.requestError,o=t.t,n=t.isChart,s=this.state.chartData,i=n?0:1;return r.a.createElement("div",{"data-test":"userStatistic",className:"user-statistic"},e&&r.a.createElement(_t,{"data-test":"spinner",className:"spinner"}),!e&&!a&&r.a.createElement("div",{style:{opacity:i},"data-test":"userStatisticCharts",className:"user-statistic__charts"},s.map(function(t,e){return r.a.createElement(Vt,{"data-test":"highchartsHOC",config:t,configNum:e,key:e})})),!e&&a&&r.a.createElement(Rt,{"data-test":"error",text:o("errors.failedUserStatistics")}))}}]),e}(o.Component));Ue.defaultProps={userStatistingRequestAction:function(){},isListingLoading:!1,isChart:!1,userId:"",chartData:[],requestError:!1,t:function(){}};var Fe={userStatistingRequestAction:function(t){return{type:"USER_STATISTIC_FETCHING",isListingLoading:!0,userId:t}}},He=Object(c.c)()(Object(u.b)(function(t){var e=t.userstatistic,a=t.charts;return Object(N.a)({},e,a)},Fe)(Ue)),Ve=(a(471),Object(o.memo)(function(){return r.a.createElement(h.a,{basename:"/React-Photo-Listing-Demo"},r.a.createElement(m.LastLocationProvider,null,r.a.createElement(bt,null),r.a.createElement("div",{className:"page"},r.a.createElement(f.a,null,r.a.createElement(g.a,{exact:!0,path:"/",component:function(t){return r.a.createElement(_e,t)}}),r.a.createElement(g.a,{path:"/photo/:id",component:function(t){return r.a.createElement(Se,t)}}),r.a.createElement(g.a,{path:"/profile",component:function(t){return r.a.createElement(we,t)}}),r.a.createElement(g.a,{path:"/users/:id",component:function(t){return r.a.createElement(De,t)}}),r.a.createElement(g.a,{path:"/:tag",component:function(t){return r.a.createElement(_e,t)}})))))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Me={login:{profilePhotoUrl:"",profileFullName:"",profileName:"",profileEmail:"",fetching:!1,loginError:!1},photolisting:{filters:[{id:0,label:"Editorial",filterValue:"editorial"},{id:1,label:"Following",filterValue:"following",border:!0},{id:2,label:"Wallpapers",filterValue:"wallpapers"},{id:3,label:"Textures",filterValue:"textures"},{id:4,label:"Nature",filterValue:"nature"},{id:5,label:"Events",filterValue:"events"},{id:6,label:"Architecture",filterValue:"architecture"},{id:7,label:"Business",filterValue:"business"},{id:8,label:"Animals",filterValue:"animals"},{id:9,label:"Travel",filterValue:"travel"},{id:10,label:"Fashion",filterValue:"fashion"},{id:11,label:"Food",filterValue:"food"},{id:12,label:"Drink",filterValue:"drink"},{id:13,label:"Spirituality",filterValue:"spirituality"},{id:14,label:"Experimental",filterValue:"experimental"},{id:15,label:"People",filterValue:"people"},{id:16,label:"Health",filterValue:"health"},{id:17,label:"Arts",filterValue:"arts"},{id:18,label:"Cars",filterValue:"cars"},{id:19,label:"Birds",filterValue:"birds"},{id:20,label:"Kings",filterValue:"kings"},{id:21,label:"Spheres",filterValue:"spheres"},{id:22,label:"Islands",filterValue:"islands"},{id:23,label:"\u0421ities",filterValue:"cities"},{id:24,label:"Brands",filterValue:"brands"}],isListingLoading:!1,cards:[],totalCards:10,navTopItemActive:2,cardsData:{query:"wallpapers",page:1,per_page:6},photolistingRequestError:!1},userstatistic:{isListingLoading:!1,chartData:[],requestError:!1},charts:{isChart:!1},photo:{info:{lastUpdateInfo:"",photoDesc:"",views:0,downloads:0,likes:0,cameraMake:"",focalLength:"",aperture:"",shutterspeed:"",iso:0,cameraModel:"",width:"",height:""},userFirstName:"",userLastName:"",userName:"",twitterName:"",photoProfile:"",tags:[],altDescriprion:"",photoSrc:"",widthPhoto:300,heightPhoto:300,isPhotoLoading:!0,isSuccessPhotoRequest:!0,requestError:!1},user:{isUserFetching:!1,userPhoto:"",userFirstPhoto:""},smallphotolisting:[{isSmallPhotoListingFetching:!1,cards:[],totalCards:10,page:1,perPage:6},{isSmallPhotoListingFetching:!1,cards:[],totalCards:10,page:1,perPage:6}]},qe=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(e.type){case"LOGIN_FETCHING":return Object(N.a)({},t,{fetching:!0,loginError:!1});case"LOGIN_SUCCESS":return Object(N.a)({},t,e.dataForProps,{fetching:!1,loginError:!1});case"LOGIN_ERROR":return Object(N.a)({},t,{fetching:!1,loginError:!0});case"LOGOUT":return Me.login;default:return t}},Ge=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(e.type){case"CARDS_PHOTOS_FETCHING":return Object(N.a)({},t,{isListingLoading:!0});case"CARDS_PHOTOS_REQUEST_SUCCESS":return Object(N.a)({},t,e.dataForProps,{cardsData:Object(N.a)({},t.cardsData,{query:e.queryText}),photolistingRequestError:!1});case"PAGINATION_CHANGE":return Object(N.a)({},t,{cardsData:Object(N.a)({},t.cardsData,{page:e.page})});case"FILTER_ITEM_VALUE":return Object(N.a)({},t,{navTopItemActive:e.itemId,cardsData:Object(N.a)({},t.cardsData,{page:1,query:e.itemText})});case"SEARCH_TEXT":return Object(N.a)({},t,{navTopItemActive:e.tags?-2:t.navTopItemActive,cardsData:Object(N.a)({},t.cardsData,{page:1,query:e.text})});case"SEARCH_TEXT_CHANGE_INPUT_VALUE":return Object(N.a)({},t,{cardsData:Object(N.a)({},t.cardsData,{query:e.text})});case"CARDS_PHOTOS_REQUEST_ERROR":return Object(N.a)({},t,{isListingLoading:!1,photolistingRequestError:!0,errorRateLimit:e.errorRateLimit});default:return t}},Be=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(e.type){case"USER_STATISTIC_FETCHING":return Object(N.a)({},t,{isListingLoading:!0});case"USER_STATISTIC_REQUEST_SUCCESS":return Object(N.a)({},t,{chartData:e.dataForProps,isListingLoading:!1,requestError:!1});case"USER_STATISTIC_REQUEST_ERROR":return Object(N.a)({},t,{isListingLoading:!1,requestError:!0});default:return t}},Qe={type:""},ze=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Qe;switch(e.type){case"PHOTO_FETCHING":return Object(N.a)({},t,{isPhotoLoading:!0,isSuccessPhotoRequest:!0});case"PHOTO_REQUEST_SUCCESS":return Object(N.a)({},t,e.dataForProps,{isPhotoLoading:!0,isSuccessPhotoRequest:!1,requestError:!1});case"PHOTO_REQUEST_ERROR":return Object(N.a)({},t,{isPhotoLoading:!1,isSuccessPhotoRequest:!1,requestError:!0});case"PHOTO_IMAGE_LOAD":return Object(N.a)({},t,{isPhotoLoading:!1,isSuccessPhotoRequest:!1,requestError:!1});default:return t}},We=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(e.type){case"USER_FETCHING":return Object(N.a)({},t,{isUserFetching:!0});case"USER_REQUEST_SUCCESS":return Object(N.a)({},t,e.dataForProps,{isUserFetching:!1,requestError:!1});case"USER_REQUEST_ERROR":return Object(N.a)({},t,{isUserFetching:!1,requestError:!0});default:return t}},Ye=a(84),Ke={type:""},Je=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ke;switch(e.type){case"SMALL_PHOTO_LISTING_FETCHING":return Object(N.a)({},t,Object(Ye.a)({},e.itemNum,{isSmallPhotoListingFetching:!0}));case"SMALL_PHOTO_LISTING_SUCCESS":return Object(N.a)({},t,Object(Ye.a)({},e.dataForProps.itemNum,Object(N.a)({},e.dataForProps,{isSmallPhotoListingFetching:!1,requestError:!1})));case"SMALL_PHOTO_LISTING_REQUEST_ERROR":return Object(N.a)({},t,Object(Ye.a)({},e.itemNum,{isSmallPhotoListingFetching:!1,requestError:!0}));default:return t}},Xe=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me;switch((arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).type){case"UPDATE_CHARTS_START":return Object(N.a)({},t,{isChart:!0});case"UPDATE_CHARTS_END":return Object(N.a)({},t,{isChart:!1});default:return t}},Ze=Object(d.c)({login:qe,photolisting:Ge,userstatistic:Be,photo:ze,user:We,smallphotolisting:Je,charts:Xe}),$e=a(18),ta=a.n($e),ea=a(8),aa=a(30),oa=a.n(aa),ra=a(9),na=a.n(ra),sa=ta.a.mark(da),ia=ta.a.mark(pa),ca=ta.a.mark(ma),la=function(t){return{profilePhotoUrl:na()(t,"data.profile_image.large",P),profileName:na()(t,"data.first_name",""),profileFullName:na()(t,"data.name",""),profileEmail:na()(t,"data.email","")}},ua={getProfile:function(t){return oa()(function(t){var e={Authorization:"Bearer ".concat(t)};return{method:"get",url:L,headers:e}}(t)).then(la)}};function da(t){var e;return ta.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(ea.b)(ua.getProfile,t);case 3:return e=a.sent,a.next=6,Object(ea.c)({type:"LOGIN_SUCCESS",dataForProps:e});case 6:a.next=12;break;case 8:return a.prev=8,a.t0=a.catch(0),a.next=12,Object(ea.c)({type:"LOGIN_ERROR"});case 12:case"end":return a.stop()}},sa,null,[[0,8]])}function pa(t){var e,a,o;return ta.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return e={url:S,body:{redirect_uri:"https://psywalker.github.io/React-Photo-Listing-Demo/profile",client_secret:"90a62ecb27270b9f05f059e880d3fcd878aad1f8120c6e765f11da158d97cf40",code:t,grant_type:"authorization_code",client_id:"bba0e5effd29d1c0d0957b57759a6b65f34fe4fece1188a73a4dcee69b53d3a5"}},r.prev=1,r.next=4,Object(ea.b)(oa.a.post,e.url,e.body);case 4:return a=r.sent,r.next=7,Object(ea.b)(na.a,a,"data.access_token",!1);case 7:return o=r.sent,window.localStorage.removeItem("token"),window.localStorage.setItem("token",o),r.next=12,Object(ea.b)(da,o);case 12:r.next=18;break;case 14:return r.prev=14,r.t0=r.catch(1),r.next=18,Object(ea.c)({type:"LOGIN_ERROR"});case 18:case"end":return r.stop()}},ia,null,[[1,14]])}function ma(t){var e,a;return ta.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(e=window.localStorage.getItem("token"),a=!!(t&&t.location&&t.location.search)&&t.location.search.split("?code=")[1],!e||"undefined"===e){o.next=7;break}return o.next=5,Object(ea.b)(da,e);case 5:o.next=14;break;case 7:if(!a){o.next=12;break}return o.next=10,Object(ea.b)(pa,a);case 10:o.next=14;break;case 12:return o.next=14,Object(ea.c)({type:"LOGIN_ERROR"});case 14:case"end":return o.stop()}},ca)}var ha=ta.a.mark(Ea),fa=function(t){return{cards:na()(t,"data.results",[]).map(function(t){return{photoName:na()(t,"urls.regular",""),photoDesc:null!==t.description?t.description:"",photoAltDesc:null!==t.alt_description?t.alt_description:"Photo",title:na()(t,"user.first_name",""),tags:na()(t,"tags",[]),photoID:na()(t,"id",""),userID:na()(t,"user.username",""),userAvatar:na()(t,"user.profile_image.large",""),likes:na()(t,"likes",0)}}),isListingLoading:!1,totalCards:na()(t,"data.total",10)}},ga={getPhotoListing:function(t){return oa()(function(t){return{method:"get",url:"https://api.unsplash.com/search/photos",params:Object(N.a)({},t,{client_id:"bba0e5effd29d1c0d0957b57759a6b65f34fe4fece1188a73a4dcee69b53d3a5"})}}(t)).then(fa)}};function Ea(t){var e,a,o,r;return ta.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!(e=t.cardsData)){n.next=17;break}return n.prev=2,n.next=5,Object(ea.b)(ga.getPhotoListing,e);case 5:return a=n.sent,n.next=8,Object(ea.c)({type:"CARDS_PHOTOS_REQUEST_SUCCESS",dataForProps:a,queryText:e.query});case 8:n.next=15;break;case 10:return n.prev=10,n.t0=n.catch(2),o=na()(n.t0,"response.data",""),n.next=15,Object(ea.c)({type:"CARDS_PHOTOS_REQUEST_ERROR",errorRateLimit:o});case 15:n.next=20;break;case 17:return r={},n.next=20,Object(ea.c)({type:"CARDS_PHOTOS_REQUEST_ERROR",error:r});case 20:case"end":return n.stop()}},ha,null,[[2,10]])}var ba=ta.a.mark(Oa),_a=function(t){return[na()(t,"data.downloads.historical.values",[]),na()(t,"data.views.historical.values",[]),na()(t,"data.likes.historical.values",[])].map(function(t){return{dates:t.map(function(t){return Pt()(new Date(t.date)).format("DD MMMM YYYY")}),values:t.map(function(t){return t.value})}})},va={getUserStatistic:function(t){return oa()(function(t){return{method:"get",url:A(t),params:{client_id:"bba0e5effd29d1c0d0957b57759a6b65f34fe4fece1188a73a4dcee69b53d3a5"}}}(t)).then(_a)}};function Oa(t){var e,a;return ta.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!(e=t.userId)){o.next=16;break}return o.prev=2,o.next=5,Object(ea.b)(va.getUserStatistic,e);case 5:return a=o.sent,o.next=8,Object(ea.c)({type:"USER_STATISTIC_REQUEST_SUCCESS",dataForProps:a});case 8:o.next=14;break;case 10:return o.prev=10,o.t0=o.catch(2),o.next=14,Object(ea.c)({type:"USER_STATISTIC_REQUEST_ERROR",error:o.t0});case 14:o.next=18;break;case 16:return o.next=18,Object(ea.c)({type:"USER_STATISTIC_REQUEST_ERROR"});case 18:case"end":return o.stop()}},ba,null,[[2,10]])}var Na=ta.a.mark(La),Ia=function(t){return{info:{lastUpdateInfo:na()(t,"data.updated_at",""),photoDesc:na()(t,"data.description",""),views:na()(t,"data.views",0),downloads:na()(t,"data.downloads",0),likes:na()(t,"data.likes",0),cameraMake:na()(t,"data.exif.make",""),focalLength:na()(t,"data.exif.focal_length",""),aperture:na()(t,"data.exif.aperture",""),shutterspeed:na()(t,"data.exif.exposure_time",""),iso:na()(t,"data.exif.iso",0),cameraModel:na()(t,"data.exif.model",""),width:na()(t,"data.width",300),height:na()(t,"data.height",300)},userFirstName:na()(t,"data.user.first_name",""),userLastName:na()(t,"data.user.last_name",""),userName:na()(t,"data.user.username",""),twitterName:na()(t,"data.user.instagram_username",""),photoProfile:na()(t,"data.user.profile_image.large",""),tags:na()(t,"data.tags",[]),altDescriprion:na()(t,"data.alt_description",""),photoSrc:na()(t,"data.urls.regular",""),widthPhoto:na()(t,"data.width",300),heightPhoto:na()(t,"data.height",300)}},Ta={getPhoto:function(t){return oa()(function(t){return{method:"get",url:j(t)}}(t)).then(Ia)}};function La(t){var e,a;return ta.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!(e=t.match)){o.next=16;break}return o.prev=2,o.next=5,Object(ea.b)(Ta.getPhoto,e);case 5:return a=o.sent,o.next=8,Object(ea.c)({type:"PHOTO_REQUEST_SUCCESS",dataForProps:a});case 8:o.next=14;break;case 10:return o.prev=10,o.t0=o.catch(2),o.next=14,Object(ea.c)({type:"PHOTO_REQUEST_ERROR",error:o.t0});case 14:o.next=18;break;case 16:return o.next=18,Object(ea.c)({type:"PHOTO_REQUEST_ERROR"});case 18:case"end":return o.stop()}},Na,null,[[2,10]])}var Sa=ta.a.mark(wa),Pa=function(t){return{userPhoto:na()(t,"data.profile_image.large","No User Photo"),userFirstPhoto:na()(t,"data.photos[0].urls.regular","No Photo")}},ya={getUser:function(t){return oa()(function(t){return{method:"get",url:R(t)}}(t)).then(Pa)}};function wa(t){var e,a;return ta.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!(e=t.match)){o.next=16;break}return o.prev=2,o.next=5,Object(ea.b)(ya.getUser,e);case 5:return a=o.sent,o.next=8,Object(ea.c)({type:"USER_REQUEST_SUCCESS",dataForProps:a});case 8:o.next=14;break;case 10:return o.prev=10,o.t0=o.catch(2),o.next=14,Object(ea.c)({type:"USER_REQUEST_ERROR",error:o.t0});case 14:o.next=18;break;case 16:return o.next=18,Object(ea.c)({type:"USER_REQUEST_ERROR"});case 18:case"end":return o.stop()}},Sa,null,[[2,10]])}var Ca=ta.a.mark(ka),xa={getSmallPhotoListing:function(t){var e=t.page,a=t.perPage,o=t.itemNum,r=t.userId,n=t.name;return oa()(function(t,e,a,o){var r=function(t){return"".concat("https://api.unsplash.com/","users/").concat(t,"/likes")}(a);return"photos"===t&&(r=function(t){return"".concat("https://api.unsplash.com/","users/").concat(t,"/photos")}(a)),{method:"get",url:r,params:{page:e,per_page:o,client_id:"bba0e5effd29d1c0d0957b57759a6b65f34fe4fece1188a73a4dcee69b53d3a5"}}}(n,e,r,a)).then(function(t,e,a){return function(o){var r=na()(o,"data",[]).map(function(t){return{photoUrl:na()(t,"urls.regular",""),photoID:na()(t,"id","")}});return{page:t,perPage:e,cards:r,totalCards:parseInt(na()(o,'headers["x-total"]',10),10),itemNum:a}}}(e,a,o))}};function ka(t){var e,a,o,r;return ta.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(e=t.userId,a=t.itemNum,!e){n.next=16;break}return n.prev=2,n.next=5,Object(ea.b)(xa.getSmallPhotoListing,t);case 5:return o=n.sent,n.next=8,Object(ea.c)({type:"SMALL_PHOTO_LISTING_SUCCESS",dataForProps:o});case 8:n.next=14;break;case 10:return n.prev=10,n.t0=n.catch(2),n.next=14,Object(ea.c)({type:"SMALL_PHOTO_LISTING_REQUEST_ERROR",error:n.t0,itemNum:a});case 14:n.next=19;break;case 16:return r={},n.next=19,Object(ea.c)({type:"SMALL_PHOTO_LISTING_REQUEST_ERROR",error:r,itemNum:a});case 19:case"end":return n.stop()}},Ca,null,[[2,10]])}var ja=ta.a.mark(Da),Ra=function(t){},Aa={photoLike:function(t){return oa()(function(t){var e=window.localStorage.getItem("token"),a={Authorization:"Bearer ".concat(e)};return{method:"post",url:D(t),params:{client_id:"bba0e5effd29d1c0d0957b57759a6b65f34fe4fece1188a73a4dcee69b53d3a5"},headers:a}}(t)).then(Ra)}};function Da(t){var e,a,o;return ta.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!(e=t.photoId)){r.next=14;break}return r.prev=2,r.next=5,Object(ea.b)(Aa.photoLike,e);case 5:return a=r.sent,r.next=8,Object(ea.c)({type:"PHOTO_LIKE_SUCCESS",dataForProps:a});case 8:r.next=12;break;case 10:r.prev=10,r.t0=r.catch(2);case 12:r.next=17;break;case 14:return o={},r.next=17,Object(ea.c)({type:"PHOTO_LIKE_ERROR",error:o});case 17:case"end":return r.stop()}},ja,null,[[2,10]])}var Ua=ta.a.mark(Va),Fa=function(t){},Ha={photoUnlike:function(t){return oa()(function(t){var e=window.localStorage.getItem("token"),a={Authorization:"Bearer ".concat(e)};return{method:"delete",url:D(t),params:{client_id:"bba0e5effd29d1c0d0957b57759a6b65f34fe4fece1188a73a4dcee69b53d3a5"},headers:a}}(t)).then(Fa)}};function Va(t){var e,a,o;return ta.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!(e=t.photoId)){r.next=14;break}return r.prev=2,r.next=5,Object(ea.b)(Ha.photoUnlike,e);case 5:return a=r.sent,r.next=8,Object(ea.c)({type:"PHOTO_UNLIKE_SUCCESS",dataForProps:a});case 8:r.next=12;break;case 10:r.prev=10,r.t0=r.catch(2);case 12:r.next=17;break;case 14:return o={},r.next=17,Object(ea.c)({type:"PHOTO_UNLIKE_ERROR",error:o});case 17:case"end":return r.stop()}},Ua,null,[[2,10]])}var Ma=ta.a.mark(qa);function qa(){return ta.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=ea.a,t.next=3,Object(ea.d)("LOGIN_FETCHING",ma);case 3:return t.t1=t.sent,t.next=6,Object(ea.d)("CARDS_PHOTOS_FETCHING",Ea);case 6:return t.t2=t.sent,t.next=9,Object(ea.d)("USER_STATISTIC_FETCHING",Oa);case 9:return t.t3=t.sent,t.next=12,Object(ea.d)("PHOTO_FETCHING",La);case 12:return t.t4=t.sent,t.next=15,Object(ea.d)("USER_FETCHING",wa);case 15:return t.t5=t.sent,t.next=18,Object(ea.d)("SMALL_PHOTO_LISTING_FETCHING",ka);case 18:return t.t6=t.sent,t.next=21,Object(ea.d)("PHOTO_LIKE",Da);case 21:return t.t7=t.sent,t.next=24,Object(ea.d)("PHOTO_UNLIKE",Va);case 24:return t.t8=t.sent,t.t9=[t.t1,t.t2,t.t3,t.t4,t.t5,t.t6,t.t7,t.t8],t.next=28,(0,t.t0)(t.t9);case 28:case"end":return t.stop()}},Ma)}a(490);var Ga=Object(p.a)(),Ba=[Ga];var Qa=Object(d.e)(Ze,Me,d.a.apply(void 0,Ba));Ga.run(qa,[555]),Object(n.render)(r.a.createElement(u.a,{store:Qa},r.a.createElement(Ve,null)),window.document.getElementById("root")),"serviceWorker"in window.navigator&&window.navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[237,1,2]]]);
//# sourceMappingURL=main.50572021.chunk.js.map